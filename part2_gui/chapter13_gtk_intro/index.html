<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1. Глава 13: Введение в GTK &mdash; документация C &amp; GUI на RPi Zero 2 W 1.0</title>
      <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../static/css/theme.css" type="text/css" />
  
        <script data-url_root="../../" id="documentation_options" src="../../static/documentation_options.js"></script>
        <script src="../../static/jquery.js"></script>
        <script src="../../static/underscore.js"></script>
        <script src="../../static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../static/doctools.js"></script>
        <script src="../../static/sphinx_highlight.js"></script>
        <script src="../../static/translations.js"></script>
    <script src="../../static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../../genindex.html" />
    <link rel="search" title="Поиск" href="../../search.html" />
    <link rel="next" title="2. Глава 14: Первый GTK-проект — Окно с кнопкой" href="../chapter14_first_project/index.html" />
    <link rel="prev" title="Часть II: Разработка GUI с помощью GTK" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            C & GUI на RPi Zero 2 W
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" aria-label="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <p class="caption" role="heading"><span class="caption-text">Содержание:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../part1_basics/index.html">Часть I: Основы языка Си</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Часть II: Разработка GUI с помощью GTK</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. Глава 13: Введение в GTK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter14_first_project/index.html">2. Глава 14: Первый GTK-проект — Окно с кнопкой</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter15_buttons/index.html">3. Глава 15: Кнопки и обработка событий</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter16_labels_layout/index.html">4. Глава 16: Метки и Базовые Контейнеры Компоновки (GtkBox)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter17_grid_layout/index.html">5. Глава 17: Гибкая Компоновка с GtkGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter18_inputs/index.html">6. Глава 18: Элементы Пользовательского Ввода</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter19_comboboxes/index.html">7. Глава 19: Выпадающие Списки (ComboBox) и Модели Данных (ListStore)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter20_treeview/index.html">8. Глава 20: Деревья и Таблицы (GtkTreeView)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter21_menus/index.html">9. Глава 21: Меню Приложений (GtkMenuBar, GtkMenu, GtkMenuItem)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter22_dialogs/index.html">10. Глава 22: Диалоговые Окна и Окна Сообщений</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter23_builtin_dialogs/index.html">11. Глава 23: Предустановленные Диалоги (GtkFileChooserDialog, GtkColorChooserDialog)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter24_widget_customization/index.html">12. Глава 24: Настройка Виджетов и Стилизация</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter25_glade/index.html">13. Глава 25: Glade – Визуальный Редактор Интерфейсов</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter26_desktop/index.html">14. Глава 26: Интеграция GTK-приложений в Систему</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../part3_projects/index.html">Часть III: Приложения и справка</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">C & GUI на RPi Zero 2 W</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Часть II: Разработка GUI с помощью GTK</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1. </span>Глава 13: Введение в GTK</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../sources/part2_gui/chapter13_gtk_intro/index.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gtk">
<h1><span class="section-number">1. </span>Глава 13: Введение в GTK<a class="headerlink" href="#gtk" title="Permalink to this heading"></a></h1>
<p>В этой главе мы начнем изучение библиотеки <strong>GTK (GIMP Toolkit)</strong> — одного из самых популярных инструментов для создания графического интерфейса пользователя (GUI) в Linux, включая Raspberry Pi. GTK позволяет разрабатывать интерактивные приложения с окнами, кнопками, текстовыми полями и другими элементами, которые мы видим в современных десктопных программах.</p>
<p>Вы узнаете:</p>
<ul class="simple">
<li><p>Как установить GTK на Raspberry Pi.</p></li>
<li><p>Основные принципы архитектуры GTK, включая его <strong>событийно-ориентированную модель</strong>.</p></li>
<li><p>Что такое <strong>GObject</strong> и почему он является фундаментом для всех элементов GTK.</p></li>
<li><p>Как создать простую GTK-программу.</p></li>
</ul>
<p>—</p>
<p>### Установка GTK на Raspberry Pi</p>
<p>Прежде чем мы сможем приступить к программированию графических приложений, нам необходимо установить саму библиотеку GTK и необходимые инструменты для компиляции. Эти инструкции актуальны для операционных систем на базе Debian, таких как Raspberry Pi OS.</p>
<p>Чтобы начать работу с GTK на Raspberry Pi Zero 2 W (или любой другой модели Raspberry Pi с Debian-подобной ОС), установите необходимые пакеты, выполнив следующие команды в терминале:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libgtk-3-dev
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">update</span></code>: Обновляет список доступных пакетов и их версий из репозиториев. Это всегда хороший первый шаг перед установкой новых пакетов.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">libgtk-3-dev</span></code>: Устанавливает пакеты разработчика для GTK 3. Пакет <code class="docutils literal notranslate"><span class="pre">libgtk-3-dev</span></code> включает в себя заголовочные файлы и библиотеки, необходимые для компиляции программ, использующих GTK.</p></li>
</ul>
<p>Проверьте, что у вас установлены следующие утилиты, которые понадобятся для компиляции программ на C:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pkg-config</span></code>: Утилита, которая помогает компилятору найти необходимые пути к заголовочным файлам и библиотекам для GTK. Она автоматизирует процесс указания всех флагов компиляции.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gcc</span></code> или <code class="docutils literal notranslate"><span class="pre">clang</span></code>: Компилятор языка C. <code class="docutils literal notranslate"><span class="pre">gcc</span></code> (GNU Compiler Collection) обычно установлен по умолчанию в большинстве дистрибутивов Linux.</p></li>
</ul>
<p><strong>Для компиляции программ с GTK:</strong></p>
<p>После написания вашей GTK-программы на C, вы будете компилировать её с помощью следующей команды. Обратите внимание на использование <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code>, которое значительно упрощает процесс:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcc<span class="w"> </span>main.c<span class="w"> </span>-o<span class="w"> </span>app<span class="w"> </span><span class="sb">`</span>pkg-config<span class="w"> </span>--cflags<span class="w"> </span>--libs<span class="w"> </span>gtk+-3.0<span class="sb">`</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">main.c</span></code>: Указывает компилятору GCC скомпилировать исходный файл <code class="docutils literal notranslate"><span class="pre">main.c</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">app</span></code>: Создает исполняемый файл с именем <code class="docutils literal notranslate"><span class="pre">app</span></code>. Вы можете выбрать любое другое имя.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`</span> <span class="pre">`pkg-config</span> <span class="pre">--cflags</span> <span class="pre">--libs</span> <span class="pre">gtk+-3.0`</span> <span class="pre">`</span></code>: Это ключевая часть. Команда <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> запрашивает у системы все необходимые флаги компилятора (<code class="docutils literal notranslate"><span class="pre">--cflags</span></code> для заголовочных файлов) и флаги компоновщика (<code class="docutils literal notranslate"><span class="pre">--libs</span></code> для библиотек), которые нужны для сборки приложения, использующего GTK 3. Результат этой команды (например, <code class="docutils literal notranslate"><span class="pre">-I/usr/include/gtk-3.0</span> <span class="pre">...</span> <span class="pre">-lgtk-3</span> <span class="pre">-lgdk-3</span> <span class="pre">...</span></code>) вставляется в команду <code class="docutils literal notranslate"><span class="pre">gcc</span></code> перед её выполнением.</p></li>
</ul>
<p>—</p>
<p>### Архитектура событий</p>
<p>GTK, как и большинство современных графических библиотек, использует <strong>событийно-ориентированную модель программирования</strong>. Это означает, что ваш код не выполняет действия линейно от начала до конца, а вместо этого «ждёт» наступления определенных <strong>событий</strong> и реагирует на них.</p>
<ul class="simple">
<li><p><strong>Событие</strong> — это любое действие, которое может произойти в графическом интерфейсе. Примеры событий: клик мышью по кнопке, нажатие клавиши на клавиатуре, изменение размера окна, перемещение курсора и т.д.</p></li>
<li><p><strong>Сигнал</strong> — это механизм GTK, который «испускается» виджетом (элементом GUI) в ответ на определенное событие. Например, кнопка испускает сигнал <code class="docutils literal notranslate"><span class="pre">&quot;clicked&quot;</span></code> (нажата), когда пользователь по ней кликает.</p></li>
<li><p><strong>Обработчик события (callback function)</strong> — это обычная функция на C, которую вы пишете, и которая будет вызвана GTK, когда соответствующий сигнал будет испущен.</p></li>
</ul>
<p><strong>Как это работает:</strong></p>
<p>Вы «подключаете» (connect) ваш обработчик события к сигналу определенного виджета. Когда виджет испускает этот сигнал, GTK автоматически вызывает вашу функцию-обработчик.</p>
<p><strong>Пример подключения обработчика сигнала:</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">g_signal_connect</span><span class="p">(</span><span class="n">button</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;clicked&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">G_CALLBACK</span><span class="p">(</span><span class="n">on_button_clicked</span><span class="p">),</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_signal_connect</span></code>: Функция GTK для подключения сигнала к обработчику.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">button</span></code>: Указатель на виджет, от которого мы ожидаем сигнал (например, кнопка).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;clicked&quot;</span></code>: Имя сигнала, который мы хотим перехватить. Это стандартизированные имена сигналов GTK.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">G_CALLBACK(on_button_clicked)</span></code>: Макрос <code class="docutils literal notranslate"><span class="pre">G_CALLBACK</span></code> используется для безопасного приведения типа вашей функции-обработчика (<code class="docutils literal notranslate"><span class="pre">on_button_clicked</span></code>) к ожидаемому типу указателя функции. <code class="docutils literal notranslate"><span class="pre">on_button_clicked</span></code> — это имя вашей функции, которая будет вызвана при клике.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NULL</span></code>: Это <code class="docutils literal notranslate"><span class="pre">user_data</span></code> (пользовательские данные), которые могут быть переданы в функцию-обработчик. Если данные не нужны, передается <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p></li>
</ul>
<p>Таким образом, каждый виджет может испускать сигналы, которые мы можем «перехватывать» с помощью функции <code class="docutils literal notranslate"><span class="pre">g_signal_connect</span></code>, чтобы ваш код мог реагировать на действия пользователя.</p>
<p>—</p>
<p>### Что такое GObject?</p>
<p><strong>GObject</strong> — это не просто библиотека, это целая <strong>объектно-ориентированная система</strong>, реализованная на языке C. Она является фундаментальной основой GTK и многих других библиотек проекта GNOME. GObject предоставляет C возможности, которые обычно ассоциируются с объектно-ориентированными языками, такими как C++ или Java, но при этом сохраняет низкоуровневый контроль C.</p>
<p><strong>Ключевые возможности GObject:</strong></p>
<ul class="simple">
<li><p><strong>Наследование:</strong> Объекты могут наследовать свойства и поведение от родительских объектов. Например, все виджеты GTK наследуются от базового класса <code class="docutils literal notranslate"><span class="pre">GObject</span></code>.</p></li>
<li><p><strong>Интерфейсы:</strong> Позволяют объектам реализовывать определенные наборы функций, не связываясь напрямую с конкретной иерархией наследования.</p></li>
<li><p><strong>Сигналы и слоты:</strong> Это и есть та самая событийная модель, о которой мы говорили выше. Объекты могут «испускать» сигналы (события), а другие части кода могут «подключаться» к этим сигналам с помощью «слотов» (функций-обработчиков).</p></li>
<li><p><strong>Свойства (Properties):</strong> Позволяют объектам иметь именованные атрибуты, к которым можно получать доступ и устанавливать их значения универсальным способом.</p></li>
</ul>
<p><strong>Ключевые понятия и функции GObject:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GObject</span></code>: Это базовый тип всех объектов, построенных с использованием системы GObject, включая все виджеты GTK.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_object_set()</span></code>: Функция для установки значений свойств объекта.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_object_get()</span></code>: Функция для получения значений свойств объекта.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_signal_connect()</span></code>: Как уже было упомянуто, эта функция используется для подключения обработчиков событий (слотов) к сигналам, испускаемым объектами.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_object_unref()</span></code>: Функция для уменьшения счетчика ссылок на объект GObject. Когда счетчик ссылок достигает нуля, объект автоматически уничтожается. Это часть системы управления памятью GObject.</p></li>
</ul>
<p>Понимание GObject критически важно для эффективной работы с GTK, поскольку именно эта система управляет жизненным циклом виджетов, их взаимодействием и свойствами.</p>
<p>—</p>
<p>### Простой пример GTK-программы</p>
<p>Давайте создадим нашу первую минимальную GTK-программу, которая просто откроет пустое окно с заданным заголовком и размером.</p>
<p>Название файла: <code class="docutils literal notranslate"><span class="pre">simple_gtk_window.c</span></code></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;gtk/gtk.h&gt;</span><span class="c1"> // Подключаем основную библиотеку GTK. Этого заголовочного файла достаточно для большинства базовых функций.</span>

<span class="c1">// Callback-функция, которая будет вызвана при &quot;активации&quot; приложения.</span>
<span class="c1">// &#39;app&#39; - указатель на объект GtkApplication, представляющий наше приложение.</span>
<span class="c1">// &#39;user_data&#39; - пользовательские данные, которые мы можем передать (в данном случае NULL).</span>
<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">on_activate</span><span class="p">(</span><span class="n">GtkApplication</span><span class="w"> </span><span class="o">*</span><span class="n">app</span><span class="p">,</span><span class="w"> </span><span class="n">gpointer</span><span class="w"> </span><span class="n">user_data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Создаем новое окно приложения. GtkApplicationWindow является основным окном для приложения.</span>
<span class="w">    </span><span class="c1">// Оно автоматически связывается с GtkApplication, что обеспечивает правильное управление жизненным циклом.</span>
<span class="w">    </span><span class="n">GtkWidget</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gtk_application_window_new</span><span class="p">(</span><span class="n">app</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Устанавливаем заголовок окна.</span>
<span class="w">    </span><span class="c1">// GTK_WINDOW(window) - это макрос приведения типа, который &quot;приводит&quot;</span>
<span class="w">    </span><span class="c1">// общий GtkWidget* к более специфичному GtkWindow*, позволяя использовать функции GtkWindow.</span>
<span class="w">    </span><span class="n">gtk_window_set_title</span><span class="p">(</span><span class="n">GTK_WINDOW</span><span class="p">(</span><span class="n">window</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Пример GTK&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Устанавливаем размер окна по умолчанию (ширина, высота).</span>
<span class="w">    </span><span class="n">gtk_window_set_default_size</span><span class="p">(</span><span class="n">GTK_WINDOW</span><span class="p">(</span><span class="n">window</span><span class="p">),</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Показываем все виджеты в окне (само окно и все его дочерние элементы, если они есть).</span>
<span class="w">    </span><span class="c1">// GTK-виджеты не видны по умолчанию; их нужно явно показать.</span>
<span class="w">    </span><span class="n">gtk_widget_show_all</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Создаем новый объект GtkApplication.</span>
<span class="w">    </span><span class="c1">// &quot;com.example.GTKApp&quot; - уникальный ID приложения (рекомендуется использовать обратный домен).</span>
<span class="w">    </span><span class="c1">// G_APPLICATION_FLAGS_NONE - флаги приложения (пока без дополнительных флагов).</span>
<span class="w">    </span><span class="n">GtkApplication</span><span class="w"> </span><span class="o">*</span><span class="n">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gtk_application_new</span><span class="p">(</span><span class="s">&quot;com.example.GTKApp&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">G_APPLICATION_FLAGS_NONE</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Подключаем сигнал &quot;activate&quot; к нашей функции on_activate.</span>
<span class="w">    </span><span class="c1">// Сигнал &quot;activate&quot; испускается, когда приложение запускается и готово к отображению своих окон.</span>
<span class="w">    </span><span class="c1">// G_CALLBACK() преобразует указатель на функцию в нужный тип для g_signal_connect.</span>
<span class="w">    </span><span class="n">g_signal_connect</span><span class="p">(</span><span class="n">app</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;activate&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">G_CALLBACK</span><span class="p">(</span><span class="n">on_activate</span><span class="p">),</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Запускаем приложение GTK. Эта функция передает управление циклу обработки событий GTK.</span>
<span class="w">    </span><span class="c1">// Она блокирует выполнение программы до тех пор, пока приложение не завершится.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g_application_run</span><span class="p">(</span><span class="n">G_APPLICATION</span><span class="p">(</span><span class="n">app</span><span class="p">),</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Уменьшаем счетчик ссылок на объект GtkApplication.</span>
<span class="w">    </span><span class="c1">// Когда счетчик ссылок достигает нуля, объект освобождается.</span>
<span class="w">    </span><span class="c1">// Это важно для предотвращения утечек памяти, так как GtkApplication является GObject.</span>
<span class="w">    </span><span class="n">g_object_unref</span><span class="p">(</span><span class="n">app</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w"> </span><span class="c1">// Возвращаем код завершения приложения.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>—</p>
<p><strong>Компиляция программы:</strong></p>
<p>Сохраните код выше как <code class="docutils literal notranslate"><span class="pre">simple_gtk_window.c</span></code> и скомпилируйте его, используя <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> для автоматического подключения необходимых библиотек и заголовочных файлов:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcc<span class="w"> </span>simple_gtk_window.c<span class="w"> </span>-o<span class="w"> </span>gtk_example<span class="w"> </span><span class="sb">`</span>pkg-config<span class="w"> </span>--cflags<span class="w"> </span>--libs<span class="w"> </span>gtk+-3.0<span class="sb">`</span>
</pre></div>
</div>
<p><strong>Запуск и Ожидаемый Вывод:</strong></p>
<p>После успешной компиляции вы можете запустить программу:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./gtk_example
</pre></div>
</div>
<p><strong>Ожидаемый результат:</strong></p>
<p>На экране появится простое пустое окно с заголовком «Пример GTK» и размерами примерно 200x100 пикселей. Окно будет активно до тех пор, пока вы его не закроете.</p>
<p>—</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Нижняя область">
        <a href="../index.html" class="btn btn-neutral float-left" title="Часть II: Разработка GUI с помощью GTK" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
        <a href="../chapter14_first_project/index.html" class="btn btn-neutral float-right" title="2. Глава 14: Первый GTK-проект — Окно с кнопкой" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, KONTAKTS &amp; Garvis.</p>
  </div>

  Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>