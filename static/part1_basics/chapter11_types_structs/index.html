<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>11. Глава 11: Пользовательские Типы Данных и Структуры &mdash; документация C &amp; GUI на RPi Zero 2 W 1.0</title>
      <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../static/css/theme.css" type="text/css" />
  
        <script data-url_root="../../" id="documentation_options" src="../../static/documentation_options.js"></script>
        <script src="../../static/jquery.js"></script>
        <script src="../../static/underscore.js"></script>
        <script src="../../static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../static/doctools.js"></script>
        <script src="../../static/sphinx_highlight.js"></script>
        <script src="../../static/translations.js"></script>
    <script src="../../static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../../genindex.html" />
    <link rel="search" title="Поиск" href="../../search.html" />
    <link rel="next" title="12. Глава 12: Заголовочные файлы и препроцессор" href="../chapter12_headers/index.html" />
    <link rel="prev" title="10. Глава 10: Работа с файлами" href="../chapter10_files/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            C & GUI на RPi Zero 2 W
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" aria-label="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <p class="caption" role="heading"><span class="caption-text">Содержание:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Часть I: Основы языка Си</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../chapter01_intro/index.html">1. Глава 1: Введение</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter02_variables/index.html">2. Глава 2: Переменные и арифметика</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter03_conditions/index.html">3. Глава 3: Условия и сравнения</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter04_loops/index.html">4. Глава 4: Циклы и повторение кода</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter05_pointers/index.html">5. Глава 5: Указатели</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter06_functions/index.html">6. Глава 6: Функции — Строим Модульный Код</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter07_arrays_strings/index.html">7. Глава 7: Массивы и Строки — Работа с Коллекциями Данных и Текстом</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter08_string_lib/index.html">8. Глава 8: Библиотека строк (&lt;string.h&gt;)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter09_input/index.html">9. Глава 9: Ввод с клавиатуры</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter10_files/index.html">10. Глава 10: Работа с файлами</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">11. Глава 11: Пользовательские Типы Данных и Структуры</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#typedef">11.1. 1. Тип <code class="docutils literal notranslate"><span class="pre">typedef</span></code>: Псевдонимы для Существующих Типов</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">11.1.1. Основное Использование</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">11.1.2. <code class="docutils literal notranslate"><span class="pre">typedef</span></code> со Структурами</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">11.1.3. Зачем нужен <code class="docutils literal notranslate"><span class="pre">typedef</span></code>?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#enum">11.2. 2. Перечисления <code class="docutils literal notranslate"><span class="pre">enum</span></code>: Именованные Константы</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">11.2.1. Базовое Объявление</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">11.2.2. Явные Значения</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">11.2.3. Зачем нужен <code class="docutils literal notranslate"><span class="pre">enum</span></code>?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#struct">11.3. 3. Структуры <code class="docutils literal notranslate"><span class="pre">struct</span></code>: Объединение Разных Типов</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">11.3.1. Объявление и Инициализация</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">11.3.2. Структуры с <code class="docutils literal notranslate"><span class="pre">typedef</span></code> (Рекомендуемый подход)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">11.3.3. Вложенные Структуры</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">11.3.4. Зачем нужны <code class="docutils literal notranslate"><span class="pre">struct</span></code>?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#union">11.4. 4. Объединения <code class="docutils literal notranslate"><span class="pre">union</span></code>: Совместное Использование Памяти</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">11.4.1. Объявление и Использование</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">11.4.2. Осторожность при Использовании <code class="docutils literal notranslate"><span class="pre">union</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">11.4.3. Зачем нужен <code class="docutils literal notranslate"><span class="pre">union</span></code>?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id16">11.5. 5. Примеры Взаимодействия и Ожидаемый Вывод</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">11.6. 6. Компиляция и Запуск Примеров</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">11.7. 7. Дополнительные Ресурсы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../chapter12_headers/index.html">12. Глава 12: Заголовочные файлы и препроцессор</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../part2_gui/index.html">Часть II: Разработка GUI с помощью GTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part3_projects/index.html">Часть III: Приложения и справка</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">C & GUI на RPi Zero 2 W</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Часть I: Основы языка Си</a></li>
      <li class="breadcrumb-item active"><span class="section-number">11. </span>Глава 11: Пользовательские Типы Данных и Структуры</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../sources/part1_basics/chapter11_types_structs/index.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1><span class="section-number">11. </span>Глава 11: Пользовательские Типы Данных и Структуры<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h1>
<p>В этой главе мы глубоко погрузимся в мир <strong>пользовательских типов данных</strong> в языке Си. Мы изучим мощные конструкции, такие как <code class="docutils literal notranslate"><span class="pre">typedef</span></code>, <code class="docutils literal notranslate"><span class="pre">enum</span></code>, <code class="docutils literal notranslate"><span class="pre">struct</span></code> и <code class="docutils literal notranslate"><span class="pre">union</span></code>, которые позволяют создавать более <strong>читаемый</strong>, <strong>безопасный</strong> и <strong>структурированный</strong> код. Это особенно важно при разработке масштабируемых и сложных приложений.</p>
<nav class="contents local" id="id2">
<ul class="simple">
<li><p><a class="reference internal" href="#typedef" id="id19">1. Тип <code class="docutils literal notranslate"><span class="pre">typedef</span></code>: Псевдонимы для Существующих Типов</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id20">Основное Использование</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id21"><code class="docutils literal notranslate"><span class="pre">typedef</span></code> со Структурами</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id22">Зачем нужен <code class="docutils literal notranslate"><span class="pre">typedef</span></code>?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#enum" id="id23">2. Перечисления <code class="docutils literal notranslate"><span class="pre">enum</span></code>: Именованные Константы</a></p>
<ul>
<li><p><a class="reference internal" href="#id6" id="id24">Базовое Объявление</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id25">Явные Значения</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id26">Зачем нужен <code class="docutils literal notranslate"><span class="pre">enum</span></code>?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#struct" id="id27">3. Структуры <code class="docutils literal notranslate"><span class="pre">struct</span></code>: Объединение Разных Типов</a></p>
<ul>
<li><p><a class="reference internal" href="#id9" id="id28">Объявление и Инициализация</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id29">Структуры с <code class="docutils literal notranslate"><span class="pre">typedef</span></code> (Рекомендуемый подход)</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id30">Вложенные Структуры</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id31">Зачем нужны <code class="docutils literal notranslate"><span class="pre">struct</span></code>?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#union" id="id32">4. Объединения <code class="docutils literal notranslate"><span class="pre">union</span></code>: Совместное Использование Памяти</a></p>
<ul>
<li><p><a class="reference internal" href="#id13" id="id33">Объявление и Использование</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id34">Осторожность при Использовании <code class="docutils literal notranslate"><span class="pre">union</span></code></a></p></li>
<li><p><a class="reference internal" href="#id15" id="id35">Зачем нужен <code class="docutils literal notranslate"><span class="pre">union</span></code>?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id16" id="id36">5. Примеры Взаимодействия и Ожидаемый Вывод</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id37">6. Компиляция и Запуск Примеров</a></p></li>
<li><p><a class="reference internal" href="#id18" id="id38">7. Дополнительные Ресурсы</a></p></li>
</ul>
</nav>
<p>—</p>
<section id="typedef">
<h2><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">11.1. </span>1. Тип <code class="docutils literal notranslate"><span class="pre">typedef</span></code>: Псевдонимы для Существующих Типов</a><a class="headerlink" href="#typedef" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">typedef</span></code> — это ключевое слово, которое позволяет вам создать <strong>новое, более удобное имя (псевдоним)</strong> для уже существующего типа данных. Это особенно полезно для упрощения длинных или сложных объявлений типов, а также для повышения читаемости кода.</p>
<section id="id3">
<h3><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">11.1.1. </span>Основное Использование</a><a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Создаем псевдоним &#39;uint&#39; для типа &#39;unsigned int&#39;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">uint</span><span class="p">;</span>

<span class="n">uint</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="c1">// Теперь &#39;uint&#39; можно использовать как обычный тип данных</span>
<span class="n">uint</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;a + b = %u</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">11.1.2. </span><code class="docutils literal notranslate"><span class="pre">typedef</span></code> со Структурами</a><a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">typedef</span></code> часто используется в сочетании со структурами, чтобы избежать повторного написания ключевого слова <code class="docutils literal notranslate"><span class="pre">struct</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Объявление структуры Point и создание псевдонима Point для нее</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Point</span><span class="p">;</span><span class="w"> </span><span class="c1">// &#39;Point&#39; теперь является псевдонимом для этой анонимной структуры</span>

<span class="n">Point</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="n">Point</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">};</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Point p1: (%d, %d)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id22" role="doc-backlink"><span class="section-number">11.1.3. </span>Зачем нужен <code class="docutils literal notranslate"><span class="pre">typedef</span></code>?</a><a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Читаемость</strong>: Делает код более понятным, особенно с комплексными типами.</p></li>
<li><p><strong>Портативность</strong>: Позволяет легко изменять базовый тип, не меняя весь код (например, <code class="docutils literal notranslate"><span class="pre">typedef</span> <span class="pre">long</span> <span class="pre">int</span> <span class="pre">large_integer;</span></code>).</p></li>
<li><p><strong>Согласованность</strong>: Помогает поддерживать единый стиль именования типов.</p></li>
</ul>
<p>—</p>
</section>
</section>
<section id="enum">
<h2><a class="toc-backref" href="#id23" role="doc-backlink"><span class="section-number">11.2. </span>2. Перечисления <code class="docutils literal notranslate"><span class="pre">enum</span></code>: Именованные Константы</a><a class="headerlink" href="#enum" title="Permalink to this heading"></a></h2>
<p>Перечисления (<code class="docutils literal notranslate"><span class="pre">enum</span></code>) позволяют вам определить <strong>набор именованных целочисленных констант</strong>. Это делает код более самодокументируемым и менее подверженным ошибкам, чем использование «магических чисел».</p>
<section id="id6">
<h3><a class="toc-backref" href="#id24" role="doc-backlink"><span class="section-number">11.2.1. </span>Базовое Объявление</a><a class="headerlink" href="#id6" title="Permalink to this heading"></a></h3>
<p>По умолчанию, первое значение в <code class="docutils literal notranslate"><span class="pre">enum</span></code> равно <code class="docutils literal notranslate"><span class="pre">0</span></code>, последующие увеличиваются на <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">RED</span><span class="p">,</span><span class="w"> </span><span class="n">GREEN</span><span class="p">,</span><span class="w"> </span><span class="n">BLUE</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="c1">// RED=0, GREEN=1, BLUE=2</span>

<span class="k">enum</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">favorite_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREEN</span><span class="p">;</span><span class="w"> </span><span class="c1">// Присваиваем одно из именованных значений</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Favorite color (enum value): %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">favorite_color</span><span class="p">);</span><span class="w"> </span><span class="c1">// Выведет 1</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">favorite_color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Color is Red</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">favorite_color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">GREEN</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Color is Green</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id25" role="doc-backlink"><span class="section-number">11.2.2. </span>Явные Значения</a><a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<p>Вы можете явно задать значения для констант. Если значение не указано, оно продолжает последовательность.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="n">Status</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">OK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">WARNING</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">ERROR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="n">CRITICAL</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="c1">// CRITICAL будет 101</span>

<span class="k">enum</span><span class="w"> </span><span class="n">Status</span><span class="w"> </span><span class="n">current_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERROR</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Current status (enum value): %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">current_status</span><span class="p">);</span><span class="w"> </span><span class="c1">// Выведет 100</span>

<span class="k">enum</span><span class="w"> </span><span class="n">Status</span><span class="w"> </span><span class="n">another_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CRITICAL</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Another status (enum value): %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">another_status</span><span class="p">);</span><span class="w"> </span><span class="c1">// Выведет 101</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id26" role="doc-backlink"><span class="section-number">11.2.3. </span>Зачем нужен <code class="docutils literal notranslate"><span class="pre">enum</span></code>?</a><a class="headerlink" href="#id8" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Читаемость</strong>: Использование <code class="docutils literal notranslate"><span class="pre">RED</span></code> вместо <code class="docutils literal notranslate"><span class="pre">0</span></code> значительно улучшает понимание кода.</p></li>
<li><p><strong>Безопасность</strong>: Компилятор может предупредить о некорректных присваиваниях, если они выходят за рамки перечисления (хотя в C это не так строго, как в C++).</p></li>
<li><p><strong>Удобство</strong>: Легко добавлять новые константы без изменения числовых значений по всему коду.</p></li>
</ul>
<p>—</p>
</section>
</section>
<section id="struct">
<h2><a class="toc-backref" href="#id27" role="doc-backlink"><span class="section-number">11.3. </span>3. Структуры <code class="docutils literal notranslate"><span class="pre">struct</span></code>: Объединение Разных Типов</a><a class="headerlink" href="#struct" title="Permalink to this heading"></a></h2>
<p>Структуры (<code class="docutils literal notranslate"><span class="pre">struct</span></code>) — это мощная возможность Си, позволяющая <strong>объединять переменные разных типов данных в одну логическую единицу</strong>. Каждая переменная внутри структуры называется <strong>членом</strong> (или полем).</p>
<section id="id9">
<h3><a class="toc-backref" href="#id28" role="doc-backlink"><span class="section-number">11.3.1. </span>Объявление и Инициализация</a><a class="headerlink" href="#id9" title="Permalink to this heading"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Объявление структуры Person</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">name</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span><span class="w"> </span><span class="c1">// Массив символов для имени</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span><span class="w">       </span><span class="c1">// Целое число для возраста</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w">  </span><span class="c1">// Число с плавающей точкой для роста</span>
<span class="p">};</span>

<span class="c1">// Инициализация переменной структуры</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Person</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mf">1.75f</span><span class="p">};</span>

<span class="c1">// Доступ к членам структуры через оператор точки &#39;.&#39;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;User Name: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;User Age: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">age</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;User Height: %.2f meters</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id10">
<h3><a class="toc-backref" href="#id29" role="doc-backlink"><span class="section-number">11.3.2. </span>Структуры с <code class="docutils literal notranslate"><span class="pre">typedef</span></code> (Рекомендуемый подход)</a><a class="headerlink" href="#id10" title="Permalink to this heading"></a></h3>
<p>Как уже упоминалось, <code class="docutils literal notranslate"><span class="pre">typedef</span></code> часто используется со структурами для создания более чистого синтаксиса.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Объявление и псевдоним для структуры Complex</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">real</span><span class="p">;</span><span class="w"> </span><span class="c1">// Действительная часть</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">imag</span><span class="p">;</span><span class="w"> </span><span class="c1">// Мнимая часть</span>
<span class="p">}</span><span class="w"> </span><span class="n">Complex</span><span class="p">;</span><span class="w"> </span><span class="c1">// &#39;Complex&#39; теперь является типом</span>

<span class="n">Complex</span><span class="w"> </span><span class="n">z1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">2.5</span><span class="p">};</span>
<span class="n">Complex</span><span class="w"> </span><span class="n">z2</span><span class="p">;</span>
<span class="n">z2</span><span class="p">.</span><span class="n">real</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.0</span><span class="p">;</span>
<span class="n">z2</span><span class="p">.</span><span class="n">imag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">-1.5</span><span class="p">;</span>

<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Complex z1: %.1f + %.1fi</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">z1</span><span class="p">.</span><span class="n">real</span><span class="p">,</span><span class="w"> </span><span class="n">z1</span><span class="p">.</span><span class="n">imag</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Complex z2: %.1f + %.1fi</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">.</span><span class="n">real</span><span class="p">,</span><span class="w"> </span><span class="n">z2</span><span class="p">.</span><span class="n">imag</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3><a class="toc-backref" href="#id30" role="doc-backlink"><span class="section-number">11.3.3. </span>Вложенные Структуры</a><a class="headerlink" href="#id11" title="Permalink to this heading"></a></h3>
<p>Структуры могут содержать другие структуры в качестве своих членов.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">day</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">month</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Date</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">title</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">author</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
<span class="w">    </span><span class="n">Date</span><span class="w"> </span><span class="n">publish_date</span><span class="p">;</span><span class="w"> </span><span class="c1">// Член структуры Date</span>
<span class="p">}</span><span class="w"> </span><span class="n">Book</span><span class="p">;</span>

<span class="n">Book</span><span class="w"> </span><span class="n">my_book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;The C Programming Language&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Dennis Ritchie&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1978</span><span class="p">}};</span>

<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Book: %s by %s, published on %d/%d/%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">       </span><span class="n">my_book</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">my_book</span><span class="p">.</span><span class="n">author</span><span class="p">,</span>
<span class="w">       </span><span class="n">my_book</span><span class="p">.</span><span class="n">publish_date</span><span class="p">.</span><span class="n">day</span><span class="p">,</span><span class="w"> </span><span class="n">my_book</span><span class="p">.</span><span class="n">publish_date</span><span class="p">.</span><span class="n">month</span><span class="p">,</span><span class="w"> </span><span class="n">my_book</span><span class="p">.</span><span class="n">publish_date</span><span class="p">.</span><span class="n">year</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id12">
<h3><a class="toc-backref" href="#id31" role="doc-backlink"><span class="section-number">11.3.4. </span>Зачем нужны <code class="docutils literal notranslate"><span class="pre">struct</span></code>?</a><a class="headerlink" href="#id12" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Моделирование Реальных Сущностей</strong>: Позволяют группировать связанные данные, которые логически относятся к одному объекту (например, человек, машина, дата).</p></li>
<li><p><strong>Организация Кода</strong>: Улучшают структуру программы, делая ее более модульной.</p></li>
<li><p><strong>Передача Данных</strong>: Упрощают передачу нескольких связанных значений в функции и из функций.</p></li>
</ul>
<p>—</p>
</section>
</section>
<section id="union">
<h2><a class="toc-backref" href="#id32" role="doc-backlink"><span class="section-number">11.4. </span>4. Объединения <code class="docutils literal notranslate"><span class="pre">union</span></code>: Совместное Использование Памяти</a><a class="headerlink" href="#union" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">union</span></code> (объединение) — это специальный тип данных, который позволяет <strong>нескольким полям (членам) использовать одну и ту же область памяти</strong>. Это означает, что в любой момент времени только <strong>один</strong> из членов объединения может хранить значение. <code class="docutils literal notranslate"><span class="pre">union</span></code> полезен для экономии памяти, когда вы знаете, что вам нужно хранить данные только одного из нескольких возможных типов в определенный момент.</p>
<section id="id13">
<h3><a class="toc-backref" href="#id33" role="doc-backlink"><span class="section-number">11.4.1. </span>Объявление и Использование</a><a class="headerlink" href="#id13" title="Permalink to this heading"></a></h3>
<p>Размер <code class="docutils literal notranslate"><span class="pre">union</span></code> равен размеру самого большого члена.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">union</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">        </span><span class="c1">// Целое число</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="p">;</span><span class="w">      </span><span class="c1">// Число с плавающей точкой</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">str</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span><span class="w"> </span><span class="c1">// Массив символов (строка)</span>
<span class="p">};</span>

<span class="k">union</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w"> </span><span class="c1">// Объявление переменной объединения</span>

<span class="c1">// Присваиваем значение int</span>
<span class="n">data</span><span class="p">.</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Data as int: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="c1">// Выведет 10</span>
<span class="c1">// Если теперь мы попытаемся прочитать data.f или data.str, то получим мусор,</span>
<span class="c1">// так как область памяти была переписана для int.</span>

<span class="c1">// Присваиваем значение float (перезаписывает предыдущее значение int)</span>
<span class="n">data</span><span class="p">.</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.5f</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Data as float: %.1f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">f</span><span class="p">);</span><span class="w"> </span><span class="c1">// Выведет 2.5</span>

<span class="c1">// Присваиваем значение string (перезаписывает предыдущее значение float)</span>
<span class="n">strcpy</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hello Union!&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// Для строк используем strcpy</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Data as string: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">str</span><span class="p">);</span><span class="w"> </span><span class="c1">// Выведет &quot;Hello Union!&quot;</span>
</pre></div>
</div>
</section>
<section id="id14">
<h3><a class="toc-backref" href="#id34" role="doc-backlink"><span class="section-number">11.4.2. </span>Осторожность при Использовании <code class="docutils literal notranslate"><span class="pre">union</span></code></a><a class="headerlink" href="#id14" title="Permalink to this heading"></a></h3>
<p>Использование <code class="docutils literal notranslate"><span class="pre">union</span></code> требует большой осторожности, так как вы должны <strong>точно знать, какой член в данный момент активен</strong> (то есть, какой член содержит актуальные данные). Обычно <code class="docutils literal notranslate"><span class="pre">union</span></code> используется в сочетании со <code class="docutils literal notranslate"><span class="pre">struct</span></code>, где структура содержит член <code class="docutils literal notranslate"><span class="pre">enum</span></code> (или другой индикатор), который указывает, какой член <code class="docutils literal notranslate"><span class="pre">union</span></code> является действующим.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Пример использования struct и union вместе (таггированное объединение)</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">INT_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">FLOAT_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">STRING_TYPE</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">DataType</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DataType</span><span class="w"> </span><span class="n">type</span><span class="p">;</span><span class="w"> </span><span class="c1">// Индикатор, какой тип данных активен в union</span>
<span class="w">    </span><span class="k">union</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i_val</span><span class="p">;</span>
<span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">f_val</span><span class="p">;</span>
<span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">s_val</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"> </span><span class="c1">// Имя для поля union</span>
<span class="p">}</span><span class="w"> </span><span class="n">MyVariant</span><span class="p">;</span>

<span class="n">MyVariant</span><span class="w"> </span><span class="n">v1</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INT_TYPE</span><span class="p">;</span>
<span class="n">v1</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">i_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Variant 1 (int): %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v1</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">i_val</span><span class="p">);</span>

<span class="n">MyVariant</span><span class="w"> </span><span class="n">v2</span><span class="p">;</span>
<span class="n">v2</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">STRING_TYPE</span><span class="p">;</span>
<span class="n">strcpy</span><span class="p">(</span><span class="n">v2</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">s_val</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Variant String&quot;</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Variant 2 (string): %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">s_val</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3><a class="toc-backref" href="#id35" role="doc-backlink"><span class="section-number">11.4.3. </span>Зачем нужен <code class="docutils literal notranslate"><span class="pre">union</span></code>?</a><a class="headerlink" href="#id15" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Экономия Памяти</strong>: Самая главная причина. Когда у вас есть данные, которые могут быть одного из нескольких типов, но только один из них будет активен в любой момент.</p></li>
<li><p><strong>Низкоуровневые Операции</strong>: Используется в системном программировании для интерпретации одной и той же области памяти как разных типов (например, для разбора сетевых пакетов).</p></li>
</ul>
<p>—</p>
</section>
</section>
<section id="id16">
<h2><a class="toc-backref" href="#id36" role="doc-backlink"><span class="section-number">11.5. </span>5. Примеры Взаимодействия и Ожидаемый Вывод</a><a class="headerlink" href="#id16" title="Permalink to this heading"></a></h2>
<p>Давайте соберем некоторые из изученных концепций в один рабочий пример.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="c1"> // Для printf</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span><span class="c1"> // Для strcpy</span>

<span class="c1">// Используем typedef для создания псевдонима Item для нашей структуры</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">name</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Item</span><span class="p">;</span>

<span class="c1">// Используем enum для категорий товаров</span>
<span class="k">enum</span><span class="w"> </span><span class="n">Category</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ELECTRONICS</span><span class="p">,</span><span class="w"> </span><span class="n">BOOKS</span><span class="p">,</span><span class="w"> </span><span class="n">CLOTHING</span><span class="p">,</span><span class="w"> </span><span class="n">FOOD</span><span class="w"> </span><span class="p">};</span>

<span class="c1">// Структура для товара с использованием enum и вложенной структуры</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Item</span><span class="w"> </span><span class="n">details</span><span class="p">;</span><span class="w"> </span><span class="c1">// Вложенная структура Item</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="n">Category</span><span class="w"> </span><span class="n">category</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">quantity</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">InventoryItem</span><span class="p">;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Создаем экземпляр Item</span>
<span class="w">    </span><span class="n">Item</span><span class="w"> </span><span class="n">item1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Laptop&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1200.50f</span><span class="p">};</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Item Details: ID: %d, Name: %s, Price: %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">item1</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">item1</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">item1</span><span class="p">.</span><span class="n">price</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Создаем экземпляр InventoryItem</span>
<span class="w">    </span><span class="n">InventoryItem</span><span class="w"> </span><span class="n">inv_item</span><span class="p">;</span>
<span class="w">    </span><span class="n">inv_item</span><span class="p">.</span><span class="n">details</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">101</span><span class="p">;</span>
<span class="w">    </span><span class="n">strcpy</span><span class="p">(</span><span class="n">inv_item</span><span class="p">.</span><span class="n">details</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Novel &#39;C Master&#39;&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">inv_item</span><span class="p">.</span><span class="n">details</span><span class="p">.</span><span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">25.99f</span><span class="p">;</span>
<span class="w">    </span><span class="n">inv_item</span><span class="p">.</span><span class="n">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BOOKS</span><span class="p">;</span><span class="w"> </span><span class="c1">// Используем enum константу</span>
<span class="w">    </span><span class="n">inv_item</span><span class="p">.</span><span class="n">quantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Inventory Item Details:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  ID: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inv_item</span><span class="p">.</span><span class="n">details</span><span class="p">.</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  Name: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inv_item</span><span class="p">.</span><span class="n">details</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  Price: %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inv_item</span><span class="p">.</span><span class="n">details</span><span class="p">.</span><span class="n">price</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  Category (enum value): %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inv_item</span><span class="p">.</span><span class="n">category</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;  Quantity in Stock: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">inv_item</span><span class="p">.</span><span class="n">quantity</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Пример использования typedef для базового типа</span>
<span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">counter_t</span><span class="p">;</span>
<span class="w">    </span><span class="n">counter_t</span><span class="w"> </span><span class="n">total_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Total Count: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">total_count</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Ожидаемый вывод:</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Item Details: ID: 1, Name: Laptop, Price: 1200.50

Inventory Item Details:
  ID: 101
  Name: Novel &#39;C Master&#39;
  Price: 25.99
  Category (enum value): 1
  Quantity in Stock: 50

Total Count: 1000
</pre></div>
</div>
<p>—</p>
</section>
<section id="id17">
<h2><a class="toc-backref" href="#id37" role="doc-backlink"><span class="section-number">11.6. </span>6. Компиляция и Запуск Примеров</a><a class="headerlink" href="#id17" title="Permalink to this heading"></a></h2>
<p>Чтобы скомпилировать и запустить ваш код на Си:</p>
<ol class="arabic">
<li><p><strong>Сохраните код</strong> в файл, например, <code class="docutils literal notranslate"><span class="pre">types_and_structs.c</span></code>.</p></li>
<li><p><strong>Откройте терминал</strong> или командную строку.</p></li>
<li><p><strong>Используйте компилятор GCC</strong> (GNU C Compiler):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcc<span class="w"> </span>types_and_structs.c<span class="w"> </span>-o<span class="w"> </span>types_and_structs
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gcc</span></code>: Команда для вызова компилятора.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">types_and_structs.c</span></code>: Имя вашего исходного файла на Си.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">types_and_structs</span></code>: Указывает, что исполняемый файл должен быть назван <code class="docutils literal notranslate"><span class="pre">types_and_structs</span></code>.</p></li>
</ul>
</li>
<li><p><strong>Запустите скомпилированную программу</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./types_and_structs
</pre></div>
</div>
</li>
</ol>
<p>—</p>
</section>
<section id="id18">
<h2><a class="toc-backref" href="#id38" role="doc-backlink"><span class="section-number">11.7. </span>7. Дополнительные Ресурсы</a><a class="headerlink" href="#id18" title="Permalink to this heading"></a></h2>
<p>Для более глубокого изучения этих тем рекомендуем обратиться к следующим источникам:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.cppreference.com/w/c/language/struct">Документация Cppreference</a>: (раздел про <code class="docutils literal notranslate"><span class="pre">struct</span></code> охватывает также <code class="docutils literal notranslate"><span class="pre">typedef</span></code> и <code class="docutils literal notranslate"><span class="pre">union</span></code>). Ищите соответствующие разделы для <code class="docutils literal notranslate"><span class="pre">enum</span></code>.</p></li>
</ul>
<p>—</p>
<p><code class="docutils literal notranslate"><span class="pre">typedef</span></code>, <code class="docutils literal notranslate"><span class="pre">enum</span></code>, <code class="docutils literal notranslate"><span class="pre">struct</span></code> и <code class="docutils literal notranslate"><span class="pre">union</span></code> являются важными строительными блоками языка Си. Их освоение значительно улучшит вашу способность проектировать сложные структуры данных и создавать эффективные, хорошо организованные программы, особенно при разработке API и взаимодействии с системными библиотеками.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Нижняя область">
        <a href="../chapter10_files/index.html" class="btn btn-neutral float-left" title="10. Глава 10: Работа с файлами" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
        <a href="../chapter12_headers/index.html" class="btn btn-neutral float-right" title="12. Глава 12: Заголовочные файлы и препроцессор" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, KONTAKTS &amp; Garvis.</p>
  </div>

  Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>