#include <stdio.h> // Подключаем стандартную библиотеку ввода/вывода, необходимую для работы с файлами (например, fopen, fprintf, fclose).

int main() {
    // Объявляем указатель на FILE. Тип FILE - это структура, которая используется для управления потоком данных файла.
    // Указатель 'fp' (file pointer) будет нашим "дескриптором" для взаимодействия с файлом.
    FILE *fp = fopen("output.txt", "w"); // Функция fopen() открывает файл.
                                         // "output.txt" - имя файла, который мы хотим открыть.
                                         // "w" - режим открытия: "write" (запись).
                                         // Если файл "output.txt" не существует, он будет создан.
                                         // Если файл существует, его текущее содержимое будет стерто (перезаписано).

    // Проверяем, успешно ли открыт файл.
    // Если fopen() не удалось открыть файл (например, из-за отсутствия прав или недопустимого пути),
    // она возвращает NULL. Это критически важная проверка для надежных программ.
    if (fp == NULL) {
        printf("Не удалось открыть файл для записи.\n"); // Выводим сообщение об ошибке на консоль.
        return 1; // Возвращаем ненулевой код (принято 1), чтобы указать операционной системе, что программа завершилась с ошибкой.
    }

    // Записываем форматированную строку в открытый файл.
    // fprintf() работает так же, как printf(), но первый аргумент - это указатель на FILE,
    // указывающий, куда именно нужно записать данные (в данном случае, в "output.txt").
    fprintf(fp, "Привет, файл!\n"); // Записываем строку "Привет, файл!" с символом новой строки в конце.

    // Закрываем файл.
    // fclose() освобождает все системные ресурсы, связанные с файлом, и гарантирует,
    // что все буферизованные данные (которые могли быть временно сохранены в памяти)
    // будут записаны на диск. Это очень важный шаг, чтобы избежать потери данных
    // и утечек ресурсов.
    fclose(fp);

    printf("Строка успешно записана в output.txt\n"); // Сообщаем пользователю об успешном завершении операции.
    return 0; // Возвращаем 0, чтобы указать операционной системе, что программа завершилась успешно.
}