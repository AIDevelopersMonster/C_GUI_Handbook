#include <stdio.h> // Подключаем стандартную библиотеку ввода/вывода.

int main() {
    // Открываем файл "output.txt" в режиме чтения.
    // "r" - режим "read" (чтение). Файл должен существовать, иначе fopen вернет NULL.
    FILE *fp = fopen("output.txt", "r");

    // Проверяем, успешно ли открыт файл.
    if (fp == NULL) {
        printf("Не удалось открыть файл для чтения. Убедитесь, что 'output.txt' существует.\n");
        return 1; // Код ошибки.
    }

    // Объявляем буфер (массив символов) для временного хранения каждой считанной строки.
    // Размер 256 байт означает, что мы можем прочитать строку длиной до 255 символов,
    // плюс один байт для завершающего нулевого символа ('\0'), который автоматически добавляется fgets.
    char buffer[256];

    printf("Чтение содержимого файла 'output.txt':\n");
    // Используем цикл while и функцию fgets для чтения файла построчно.
    // fgets(буфер, размер_буфера, указатель_на_файл)
    // - 'buffer': указатель на массив, куда будет считана строка.
    // - 'sizeof(buffer)': максимальное количество символов для чтения (включая '\0').
    // - 'fp': указатель на открытый файл.
    // fgets читает символы из файла до тех пор, пока не встретит символ новой строки ('\n'),
    // или не достигнет конца файла (EOF), или не прочтет 'size - 1' символов.
    // Символ новой строки, если он есть в файле, также включается в буфер.
    // Функция возвращает 'buffer' при успешном чтении или NULL при достижении конца файла или ошибке.
    while (fgets(buffer, sizeof(buffer), fp)) {
        printf("Считано: %s", buffer); // Выводим считанную строку на консоль.
                                       // Поскольку fgets уже включает '\n' (если он был в файле),
                                       // нам не нужно добавлять свой '\n' здесь, чтобы избежать двойных переносов строки.
    }

    // Закрываем файл.
    // Это освобождает ресурсы и завершает все операции с файлом.
    fclose(fp);

    printf("Чтение файла завершено.\n");
    return 0; // Успешное завершение.
}