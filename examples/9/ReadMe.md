

# –ì–ª–∞–≤–∞ 9: –í–≤–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –≥–ª—É–±–æ–∫–æ —Ä–∞–∑–±–µ—Ä–µ–º, –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å **–≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤ —è–∑—ã–∫–µ C. –í—ã —É–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ **`scanf`** –∏ **`fgets`**, –Ω–∞—É—á–∏—Ç–µ—Å—å **–∏–∑–±–µ–≥–∞—Ç—å –æ–ø–∞—Å–Ω–æ–≥–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞** –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏ –Ω–∞–¥–µ–∂–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏.

-----

## –í–≤–µ–¥–µ–Ω–∏–µ –≤ –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ‚Äî –∫–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–º. –í —è–∑—ã–∫–µ C –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ `stdio.h`. –û–¥–Ω–∞–∫–æ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏, —Ç—Ä–µ–±—É—é—Ç –æ—Å–æ–±–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

-----

## –ü—Ä–∏–º–µ—Ä 1: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ —á–∏—Å–µ–ª —Å –ø–æ–º–æ—â—å—é `scanf`

–§—É–Ω–∫—Ü–∏—è `scanf` –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ —á–∏—Å–ª–∞ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã. –û–¥–Ω–∞–∫–æ, **–∫—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ—ë –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–≤–æ–¥ –±—ã–ª —É—Å–ø–µ—à–Ω—ã–º. `scanf` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

**–ö–æ–¥:** `chapter9_example1.c`

```c
#include <stdio.h> // –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞

int main() {
    int age; // –û–±—ä—è–≤–ª—è–µ–º —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–æ–∑—Ä–∞—Å—Ç–∞

    printf("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç: ");

    // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ —á–∏—Å–ª–∞: –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ scanf —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–ª 1 —ç–ª–µ–º–µ–Ω—Ç
    if (scanf("%d", &age) == 1) {
        printf("–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç: %d\n", age);
    } else {
        printf("–û—à–∏–±–∫–∞: –í—ã –≤–≤–µ–ª–∏ –Ω–µ —á–∏—Å–ª–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç.\n");
        // –û—á–∏—â–∞–µ–º –±—É—Ñ–µ—Ä stdin, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å–æ —Å–ª–µ–¥—É—é—â–∏–º –≤–≤–æ–¥–æ–º,
        // –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–∫—Å—Ç)
        while (getchar() != '\n' && getchar() != EOF);
    }

    return 0;
}
```

Ì†ΩÌ≤° **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:**

  * **`scanf("%d", &age);`**: `**%d**` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞. `**&age**` ‚Äî —ç—Ç–æ –∞–¥—Ä–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `age`, –∫—É–¥–∞ `scanf` –∑–∞–ø–∏—à–µ—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
  * **–ü—Ä–æ–≤–µ—Ä–∫–∞ `scanf() == 1`**: –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è **–æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥–µ—Ç "–¥–≤–∞–¥—Ü–∞—Ç—å" –≤–º–µ—Å—Ç–æ `20`, `scanf` –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.
  * **–û—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞**: –ï—Å–ª–∏ `scanf` –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä–µ –≤–≤–æ–¥–∞. `while (getchar() != '\n' && getchar() != EOF);` –æ—á–∏—â–∞–µ—Ç –±—É—Ñ–µ—Ä –¥–æ –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ EOF, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –≤–≤–æ–¥–∞.

-----

## –ü—Ä–∏–º–µ—Ä 2: –û–ø–∞—Å–Ω–æ—Å—Ç–∏ `scanf` –ø—Ä–∏ –≤–≤–æ–¥–µ —Å—Ç—Ä–æ–∫

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `scanf("%s", ...)` –¥–ª—è —á—Ç–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ **–∫—Ä–∞–π–Ω–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ** –∏ —è–≤–ª—è–µ—Ç—Å—è **—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞**. `scanf("%s", ...)` –Ω–µ –∑–Ω–∞–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ –∏ –±—É–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã, –ø–æ–∫–∞ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç –ø—Ä–æ–±–µ–ª –∏–ª–∏ —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –≤—ã—Ö–æ–¥—è –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞.

**–ö–æ–¥:** `chapter9_example2.c`

```c
#include <stdio.h> // –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞

int main() {
    // –û–±—ä—è–≤–ª—è–µ–º —Å–∏–º–≤–æ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ (—Å—Ç—Ä–æ–∫—É) —Ä–∞–∑–º–µ—Ä–æ–º 10 —Å–∏–º–≤–æ–ª–æ–≤.
    // –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å 9 —Å–∏–º–≤–æ–ª–æ–≤ + –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π –Ω—É–ª–µ–≤–æ–π —Å–∏–º–≤–æ–ª '\0'.
    char name[10];

    printf("–í–≤–µ–¥–∏—Ç–µ –∏–º—è: ");

    // ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–û –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï scanf !!!
    // %s - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏.
    // scanf —á–∏—Ç–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã –¥–æ –ø—Ä–æ–±–µ–ª–∞, —Å–∏–º–≤–æ–ª–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ EOF.
    // –û–ù –ù–ï –ü–†–û–í–ï–†–Ø–ï–¢ –†–ê–ó–ú–ï–† –ë–£–§–ï–†–ê!
    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥–µ—Ç –±–æ–ª–µ–µ 9 —Å–∏–º–≤–æ–ª–æ–≤, –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ü–ï–†–ï–ü–û–õ–ù–ï–ù–ò–ï –ë–£–§–ï–†–ê.
    scanf("%s", name);

    printf("–ü—Ä–∏–≤–µ—Ç, %s!\n", name);

    return 0;
}
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**

  * –ï—Å–ª–∏ –≤—ã –≤–≤–µ–¥–µ—Ç–µ –∏–º—è –¥–ª–∏–Ω–Ω–µ–µ 9 —Å–∏–º–≤–æ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–ª–∏–Ω–Ω–æ–µ–ò–º—è"), –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø–∏—à–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞—Å—Å–∏–≤–∞ `name`, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ **–Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é** (—Å–±–æ—è–º, —É—è–∑–≤–∏–º–æ—Å—Ç—è–º).

-----

## –ü—Ä–∏–º–µ—Ä 3: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ —Å—Ç—Ä–æ–∫ —Å –ø–æ–º–æ—â—å—é `fgets`

–§—É–Ω–∫—Ü–∏—è `fgets` —è–≤–ª—è–µ—Ç—Å—è **–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º** —á—Ç–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –≤ C. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è, —Ç–µ–º —Å–∞–º—ã–º **–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞**.

**–ö–æ–¥:** `chapter9_example3.c`

```c
#include <stdio.h>  // –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞
#include <string.h> // –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ (–¥–ª—è strcspn)

int main() {
    // –û–±—ä—è–≤–ª—è–µ–º —Å–∏–º–≤–æ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ (—Å—Ç—Ä–æ–∫—É) —Ä–∞–∑–º–µ—Ä–æ–º 20 —Å–∏–º–≤–æ–ª–æ–≤.
    // –≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 19 —Å–∏–º–≤–æ–ª–æ–≤ + –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π –Ω—É–ª–µ–≤–æ–π —Å–∏–º–≤–æ–ª '\0'.
    char name[20];

    printf("–í–≤–µ–¥–∏—Ç–µ –∏–º—è: ");

    // ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–´–ô –≤–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–º–æ—â—å—é fgets
    // 1. name: —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±—É—Ñ–µ—Ä, –∫—É–¥–∞ –±—É–¥—É—Ç –∑–∞–ø–∏—Å–∞–Ω—ã —Å–∏–º–≤–æ–ª—ã.
    // 2. sizeof(name): –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è (–≤–∫–ª—é—á–∞—è '\0').
    //    fgets –ø—Ä–æ—á–∏—Ç–∞–µ—Ç –¥–æ (—Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ - 1) —Å–∏–º–≤–æ–ª–∞ –ò–õ–ò –¥–æ —Å–∏–º–≤–æ–ª–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏.
    // 3. stdin: —Ñ–∞–π–ª–æ–≤—ã–π –ø–æ—Ç–æ–∫, –æ—Ç–∫—É–¥–∞ —á–∏—Ç–∞—Ç—å (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥, —Ç.–µ. –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞).
    // fgets –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç NULL –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ EOF.
    if (fgets(name, sizeof(name), stdin) != NULL) {
        // fgets —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ '\n', –µ—Å–ª–∏ –æ–Ω –±—ã–ª –ø—Ä–æ—á–∏—Ç–∞–Ω –∏ –ø–æ–º–µ—Å—Ç–∏–ª—Å—è –≤ –±—É—Ñ–µ—Ä.
        // –≠—Ç–æ —á–∞—Å—Ç–æ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, –ø–æ—ç—Ç–æ–º—É —É–¥–∞–ª—è–µ–º –µ–≥–æ.
        name[strcspn(name, "\n")] = '\0'; // strcspn –Ω–∞—Ö–æ–¥–∏—Ç –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ '\n' –∏ –∑–∞–º–µ–Ω—è–µ—Ç –µ–≥–æ –Ω–∞ '\0'

        printf("–ü—Ä–∏–≤–µ—Ç, %s!\n", name);
    } else {
        printf("–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏–º–µ–Ω–∏.\n");
    }

    return 0;
}
```

Ì†ΩÌ≤° **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:**

  * **`fgets(name, sizeof(name), stdin);`**: –≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å. `fgets` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω–æ –±–æ–ª—å—à–µ —Å–∏–º–≤–æ–ª–æ–≤, —á–µ–º –º–æ–∂–µ—Ç –ø–æ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ `name`, –≤–∫–ª—é—á–∞—è –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π `\0`.
  * **`name[strcspn(name, "\n")] = '\0';`**: `fgets` –≤–∫–ª—é—á–∞–µ—Ç —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ (`\n`), –µ—Å–ª–∏ –æ–Ω –±—ã–ª –≤–≤–µ–¥–µ–Ω –∏ –ø–æ–º–µ—Å—Ç–∏–ª—Å—è –≤ –±—É—Ñ–µ—Ä. –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–∑–∏—Ü–∏—é `\n` (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å) –∏ –∑–∞–º–µ–Ω—è–µ—Ç –µ–≥–æ –Ω–∞ –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π –Ω—É–ª–µ–≤–æ–π —Å–∏–º–≤–æ–ª `\0`, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ "–æ–±—Ä–µ–∑–∞—è" —Å—Ç—Ä–æ–∫—É. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥ –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º.

-----

## –†–∞–±–æ—Ç–∞ —Å —Å–∏–º–≤–æ–ª–æ–º –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ (`\n`) –∏ –æ—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞

–ü–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `scanf` –¥–ª—è —á—Ç–µ–Ω–∏—è —á–∏—Å–µ–ª –∏–ª–∏ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ (`\n`), –æ—Å—Ç–∞–≤—à–∏–π—Å—è –æ—Ç –Ω–∞–∂–∞—Ç–∏—è `Enter` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –≤ –±—É—Ñ–µ—Ä–µ `stdin`. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –≤—ã–∑–æ–≤–∞—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤–≤–æ–¥–∞, —Ç–∞–∫–∏—Ö –∫–∞–∫ `fgets` –∏–ª–∏ `getchar()`.

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**

```c
#include <stdio.h>

int main() {
    int num;
    char text[100];

    printf("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ: ");
    scanf("%d", &num); // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "123" –∏ –Ω–∞–∂–∏–º–∞–µ—Ç Enter. '\n' –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä–µ.

    printf("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç: ");
    // fgets –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–µ—Ç –æ—Å—Ç–∞–≤—à–∏–π—Å—è '\n' –∏–∑ –±—É—Ñ–µ—Ä–∞ –∏ "–ø–æ–¥—É–º–∞–µ—Ç", —á—Ç–æ –≤–≤–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω.
    fgets(text, sizeof(text), stdin);

    printf("–ß–∏—Å–ª–æ: %d, –¢–µ–∫—Å—Ç: %s\n", num, text);
    return 0;
}
```

**–†–µ—à–µ–Ω–∏–µ: –û—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞ `stdin`**

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã, –≤—ã –º–æ–∂–µ—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –±—É—Ñ–µ—Ä –≤–≤–æ–¥–∞ –ø–æ—Å–ª–µ `scanf` (–µ—Å–ª–∏ –æ–∂–∏–¥–∞–µ—Ç–µ –¥–∞–ª—å–Ω–µ–π—à–∏–π –≤–≤–æ–¥):

```c
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –±—É—Ñ–µ—Ä–∞ –≤–≤–æ–¥–∞
void clear_input_buffer() {
    int c;
    while ((c = getchar()) != '\n' && c != EOF);
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
#include <stdio.h>

void clear_input_buffer(); // –ü—Ä–æ—Ç–æ—Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏

int main() {
    int num;
    char text[100];

    printf("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ: ");
    if (scanf("%d", &num) == 1) {
        clear_input_buffer(); // –û—á–∏—â–∞–µ–º –±—É—Ñ–µ—Ä –ø–æ—Å–ª–µ scanf

        printf("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç: ");
        fgets(text, sizeof(text), stdin);
        text[strcspn(text, "\n")] = '\0'; // –£–¥–∞–ª—è–µ–º '\n' –æ—Ç fgets

        printf("–ß–∏—Å–ª–æ: %d, –¢–µ–∫—Å—Ç: %s\n", num, text);
    } else {
        printf("–û—à–∏–±–∫–∞: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–≤–æ–¥ —á–∏—Å–ª–∞.\n");
        clear_input_buffer(); // –û—á–∏—â–∞–µ–º –±—É—Ñ–µ—Ä –ø–æ—Å–ª–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞
    }

    return 0;
}

void clear_input_buffer() {
    int c;
    while ((c = getchar()) != '\n' && c != EOF);
}
```

-----

## –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –≤–≤–æ–¥—É

  * **–î–ª—è —á–∏—Å–ª–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `scanf` —Å **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è** (`== –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–æ–∂–∏–¥–∞–µ–º—ã—Ö_—ç–ª–µ–º–µ–Ω—Ç–æ–≤`). –ü–æ—Å–ª–µ `scanf`, –µ—Å–ª–∏ –æ–∂–∏–¥–∞–µ—Ç—Å—è –≤–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏, **–æ—á–∏—â–∞–π—Ç–µ –±—É—Ñ–µ—Ä `stdin`**.
  * **–î–ª—è —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞**: **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `fgets`**. –≠—Ç–æ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ.
  * **–û–±—Ä–∞–±–æ—Ç–∫–∞ `\n` –æ—Ç `fgets`**: –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ `fgets` –≤–∫–ª—é—á–∞–µ—Ç —Å–∏–º–≤–æ–ª `\n` –≤ —Å—Ç—Ä–æ–∫—É, –µ—Å–ª–∏ –æ–Ω –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `strcspn` –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω –Ω–µ –Ω—É–∂–µ–Ω.
  * **–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞**: –í—Å–µ–≥–¥–∞ –≤—ã–¥–µ–ª—è–π—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–∂–∏–¥–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –ø–ª—é—Å –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –¥–ª—è –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ `\0`.

-----

## –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π `.c` —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `chapter9_example1.c`, `chapter9_example2.c`, `chapter9_example3.c`).

–î–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä GCC:

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
gcc chapter9_example1.c -o example1

# –ó–∞–ø—É—Å–∫ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
./example1

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
gcc chapter9_example2.c -o example2

# –ó–∞–ø—É—Å–∫ –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
./example2

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ç—Ä–µ—Ç—å–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
gcc chapter9_example3.c -o example3

# –ó–∞–ø—É—Å–∫ —Ç—Ä–µ—Ç—å–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
./example3
```

-----

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

  * Ì†ΩÌ≥ò [C Programming - Input and Output (cplusplus.com)](https://www.cplusplus.com/reference/cstdio/)
  * Ì†ΩÌ≥ï [–§—É–Ω–∫—Ü–∏—è fgets (cplusplus.com)](https://www.cplusplus.com/reference/cstdio/fgets/)
  * Ì†ΩÌ≥ô [–ü–æ—á–µ–º—É scanf –æ–ø–∞—Å–µ–Ω ‚Äî —Å—Ç–∞—Ç—å—è –Ω–∞ Stack Overflow (–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)](https://www.google.com/search?q=https://stackoverflow.com/questions/2202678/why-is-scanf-so-dangerous-and-what-are-the-alternatives)
  * Ì†ΩÌ≥ö [–°—Ç–∞—Ç—å—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –≤–≤–æ–¥–µ –≤ C (–Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º)](https://www.google.com/search?q=https://www.geeksforgeeks.org/gets-vs-fgets/)

-----
