/**
 * @file switch_demo.c
 * @brief Демонстрация использования оператора switch в языке C.
 *
 * Оператор switch позволяет выбрать один из нескольких блоков кода для выполнения,
 * основываясь на значении целочисленной переменной или выражения.
 * Ключевое слово 'break' критически важно для предотвращения "проваливания" (fall-through).
 */

#include <stdio.h> // Подключение стандартной библиотеки ввода/вывода для функции printf.

int main() {       // Главная функция, с которой начинается выполнение программы.

    // --- Пример 1: Базовое использование switch с break ---
    int command = 2; // Переменная, значение которой будет проверяться.

    printf("Пример 1: Выполнение команды (command = %d)\n", command);
    switch (command) { // Начало блока switch, проверяем значение 'command'.
        case 1:        // Если 'command' равно 1.
            printf("    Выбрана Команда 1\n");
            break;     // Прерывает выполнение switch и выходит из него.
        case 2:        // Если 'command' равно 2.
            printf("    Выбрана Команда 2\n"); // Этот блок будет выполнен.
            break;     // Прерывает выполнение switch.
        case 3:        // Если 'command' равно 3.
            printf("    Выбрана Команда 3\n");
            break;     // Прерывает выполнение switch.
        default:       // Если 'command' не совпало ни с одним из 'case' выше.
            printf("    Неизвестная команда\n");
            break;     // Хотя здесь 'break' не строго обязателен (т.к. это последний блок),
                       // это хорошая практика для консистентности и предотвращения ошибок.
    }

    printf("\n"); // Пустая строка для разделения вывода.

    // --- Пример 2: Демонстрация "проваливания" (fall-through) без break ---
    char grade = 'B'; // Переменная символьного типа, значение которой будет проверяться.

    printf("Пример 2: Оценка %c (демонстрация 'fall-through')\n", grade);
    switch (grade) {
        case 'A':
            printf("    Отлично!\n");
            // Отсутствие 'break;' здесь приведет к "проваливанию" в следующий 'case'.
        case 'B':
            printf("    Очень хорошо!\n"); // Если grade = 'B', выполнение начнется здесь.
            // Отсутствие 'break;' здесь также приведет к "проваливанию".
        case 'C':
            printf("    Хорошо.\n");       // Этот блок будет выполнен, если grade = 'B' или 'A'.
            break; // Здесь 'break' остановит дальнейшее "проваливание".
        default:
            printf("    Необходимо пересдать.\n");
            break;
    }
    printf("    Завершено проверку оценки.\n");
    // В данном примере, если 'grade' равно 'B', вы увидите "Очень хорошо!" И "Хорошо.".
    // Это и есть "проваливание", которое обычно является ошибкой.

    return 0; // Возвращаем 0, сигнализируя об успешном завершении программы.
}