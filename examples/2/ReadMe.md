
````markdown
# Глава 2: Переменные и арифметика

В этой главе мы погрузимся в основы языка C, изучив, как объявлять переменные для хранения данных и выполнять с ними основные арифметические операции. Понимание этих фундаментальных концепций критически важно для написания любых программ на C.

## 2.1. Что такое переменные?

Переменная — это именованная область в памяти компьютера, которая используется для хранения данных. Представьте ее как коробку с этикеткой, в которую вы можете положить определенный тип данных. Значение, хранящееся в переменной, может изменяться (варьироваться) во время выполнения программы.

Перед использованием переменной ее необходимо **объявить**, указав ее **тип данных** и **имя**.

### Синтаксис объявления переменной:

```c
тип_данных имя_переменной;
````

или с **инициализацией** (присваиванием начального значения):

```c
тип_данных имя_переменной = значение;
```

## 2.2. Основные типы данных для чисел

В языке C существует несколько базовых типов данных для хранения чисел. В этой главе мы сосредоточимся на двух наиболее часто используемых:

  * **`int` (integer)**: Используется для хранения **целых чисел** (положительных, отрицательных или нуля) без дробной части. Например: 5, -100, 0.
  * **`float` (floating-point)**: Используется для хранения **чисел с плавающей точкой** (т.е. чисел, имеющих дробную часть). Например: 3.14, -0.5, 4.678.

### Пример 1: Работа с целыми числами (`int`)

Рассмотрим пример программы, которая объявляет целочисленные переменные, присваивает им значения и выполняет сложение.

**`integers.c`**

```c
#include <stdio.h> // Включаем стандартную библиотеку ввода/вывода для использования printf()

void main (void)   // Главная функция программы
{
    int a;             // Объявляем целочисленную переменную 'a'
    int b = 5;         // Объявляем 'b' и инициализируем ее значением 5
    int c;             // Объявляем 'c'

    a = 7;             // Присваиваем 'a' значение 7

    c = a + b;         // Складываем значения 'a' (7) и 'b' (5), результат (12) присваиваем 'c'

    printf ("The sum of adding %d and %d is %d\n", a, b, c);
                       // Выводим результат. %d - спецификатор формата для целых чисел.
                       // \n - символ новой строки.
}
```

**Пояснения:**

  * `#include <stdio.h>`: Эта строка включает стандартную библиотеку ввода-вывода, которая содержит функцию `printf()` для вывода текста на консоль.
  * `void main (void)`: Это объявление главной функции программы, с которой начинается выполнение кода. В современных версиях C чаще используется `int main()`.
  * `int a;`: Объявляет переменную `a` типа `int`.
  * `int b = 5;`: Объявляет переменную `b` типа `int` и сразу присваивает ей значение `5` (инициализация).
  * `a = 7;`: Присваивает переменной `a` значение `7`.
  * `c = a + b;`: Выполняет сложение значений `a` и `b`, сохраняя результат в `c`.
  * `printf ("The sum of adding %d and %d is %d\n", a, b, c);`: Выводит форматированную строку на консоль. `%d` — это **спецификатор формата** для вывода целочисленных значений.

### Пример 2: Работа с числами с плавающей точкой (`float`)

Теперь рассмотрим пример с числами `float`.

**`float1.c`**

```c
#include <stdio.h> // Включаем стандартную библиотеку ввода/вывода

void main (void)   // Главная функция
{
    float a;           // Объявляем переменную 'a' типа float
    float b = 4.678;   // Объявляем 'b' типа float и инициализируем
    float c;           // Объявляем 'c' типа float

    a = 3.234;         // Присваиваем 'a' значение 3.234

    c = a + b;         // Складываем 'a' (3.234) и 'b' (4.678), результат (7.912) присваиваем 'c'

    printf ("The sum of adding %f and %f is %f\n", a, b, c);
                       // Выводим результат. %f - спецификатор формата для float.
}
```

**Пояснения:**

  * `float a;`: Объявляет переменную `a` типа `float`.
  * `float b = 4.678;`: Объявляет переменную `b` типа `float` и инициализирует ее значением `4.678`.
  * `printf ("The sum of adding %f and %f is %f\n", a, b, c);`: Для вывода чисел с плавающей точкой используется спецификатор формата `%f`.

### Пример 3: Смешивание типов данных и неявное преобразование

Очень важно понимать, что происходит, когда вы смешиваете разные типы данных в одной операции или при присваивании.

**`float.c`**

```c
#include <stdio.h> // Включаем стандартную библиотеку ввода/вывода

void main (void)   // Главная функция
{
    float a;           // Объявляем 'a' типа float
    float b = 4.678;   // Объявляем 'b' типа float
    int c;             // !!! ВНИМАНИЕ: Объявляем 'c' типа int (целое число)

    a = 3.234;         // Присваиваем 'a' значение 3.234

    c = a + b;         // Сумма a + b = 3.234 + 4.678 = 7.912.
                       // Поскольку 'c' - int, дробная часть (0.912) будет отброшена!
                       // 'c' получит значение 7 (произойдет усечение).

    printf ("The sum of adding %f and %f is %d\n", a, b, c);
                       // Выводим 'a' и 'b' как float (%f), а 'c' как int (%d).
                       // Вывод для 'c' будет 7.
}
```

**Пояснения:**

  * В этом примере переменная `c` объявлена как `int`.
  * Когда результат сложения `float` (`a + b`, которое равно `7.912`) присваивается переменной типа `int` (`c`), происходит **неявное преобразование типов**.
  * При этом преобразовании **дробная часть числа отбрасывается (усекается)**, и переменная `c` получает только целую часть. В данном случае `c` станет `7`. Это может привести к потере точности и неожиданным результатам, если вы не ожидаете такого поведения.

## 2.3. Арифметические операторы

Язык C поддерживает стандартные арифметические операторы:

  * **`+`**: Сложение
  * **`-`**: Вычитание
  * **`*`**: Умножение
  * **`/`**: Деление
  * **`%`**: Остаток от деления (только для целых чисел)

### Особенности деления:

  * **Целочисленное деление (`int / int`)**: Если оба операнда являются целыми числами, результат деления также будет целым числом, а **дробная часть будет отброшена** (усечена). Например, `10 / 3` даст `3`.
  * **Деление с плавающей точкой (`float / float` или `float / int` и т.д.)**: Если хотя бы один из операндов является числом с плавающей точкой, деление будет выполнено с плавающей точкой, и результат будет содержать дробную часть. Например, `10.0 / 3.0` даст `3.333333...`.

### Пример 4: Демонстрация арифметических операций

Файл `math_demo_commented.c` демонстрирует все основные арифметические операции и разницу между целочисленным делением и делением с плавающей точкой. Он уже хорошо прокомментирован.

**`math_demo_commented.c`**

```c
/**
 * @file math_demo_commented.c
 * @brief Демонстрационная программа, показывающая объявление переменных и
 * выполнение основных арифметических операций в языке C.
 *
 * Эта программа иллюстрирует:
 * - Различные базовые типы данных (int, float)
 * - Инициализацию переменных
 * - Арифметические операторы (+, -, *, /, %)
 * - Отличие целочисленного деления от деления с плавающей точкой
 * - Использование функции printf для вывода форматированных данных
 */

#include <stdio.h> // Включает стандартную библиотеку ввода/вывода

int main() {       // Главная функция программы

    // Объявление и инициализация переменных
    int a = 10;    // Целочисленная переменная 'a'
    int b = 3;     // Целочисленная переменная 'b'

    float x = 10.0; // Переменная 'x' типа float (важно .0)
    float y = 3.0;  // Переменная 'y' типа float

    // Выполнение и вывод результатов арифметических операций для целых чисел
    printf("a + b = %d\n", a + b); // Сложение
    printf("a - b = %d\n", a - b); // Вычитание
    printf("a * b = %d\n", a * b); // Умножение
    printf("a / b = %d\n", a / b); // Целочисленное деление (10 / 3 = 3)
    printf("a %% b = %d\n", a % b); // Остаток от деления (10 % 3 = 1). Для вывода '%' используется '%%'.

    // Выполнение и вывод результата деления для чисел с плавающей точкой
    printf("x / y = %.2f\n", x / y); // Деление с плавающей точкой (10.0 / 3.0 = 3.333...).
                                   // %.2f - выводит float с двумя знаками после запятой.

    return 0; // Возвращает 0, обозначая успешное завершение программы.
}
```

**Ключевые моменты из `math_demo_commented.c`:**

  * Использование `int main()` вместо `void main(void)` — это более современный и рекомендуемый стандарт в C. Возвращаемое значение `0` из `main` сигнализирует операционной системе об успешном выполнении программы.
  * Для вывода символа `%` в `printf` необходимо использовать `%%`.
  * Спецификатор формата `%.2f` используется для форматирования вывода чисел с плавающей точкой, указывая количество знаков после запятой (в данном случае — два).

## 2.4. Заключение

В этой главе мы освоили фундаментальные понятия переменных и арифметических операций в языке C. Вы научились:

  * Объявлять переменные различных типов (`int`, `float`).
  * Инициализировать переменные и присваивать им значения.
  * Выполнять базовые арифметические операции: сложение, вычитание, умножение, деление и нахождение остатка.
  * Понимать разницу между целочисленным делением и делением с плавающей точкой.
  * Осознавать последствия неявного преобразования типов и усечения дробной части.

Эти знания являются строительными блоками для более сложных программ, которые мы будем разрабатывать в следующих главах.

```
```