# –ì–ª–∞–≤–∞ 20: –î–µ—Ä–µ–≤—å—è –∏ –¢–∞–±–ª–∏—Ü—ã (GtkTreeView)

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –æ—Å–≤–∞–∏–≤–∞–µ–º **`GtkTreeView`** ‚Äî –º–æ—â–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –≤–∏–¥–∂–µ—Ç GTK, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≤ **—Ç–∞–±–ª–∏—á–Ω–æ–π** (—Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç–æ–ª–±—Ü—ã), —Ç–∞–∫ –∏ –≤ **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π** (–¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π) —Å—Ç—Ä—É–∫—Ç—É—Ä–µ. `GtkTreeView` –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∞ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ "–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è", –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –≤–Ω–µ—à–Ω–µ–π **–º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**.

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å `GtkTreeView` –≤ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:

1.  **`GtkListStore`**: –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
2.  **`GtkTreeStore`**: –î–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö (–¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö) –¥–∞–Ω–Ω—ã—Ö.

-----

## üîπ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `GtkTreeView`

–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å `GtkTreeView` –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –µ–≥–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ:

  * **`GtkTreeView`**: –°–∞–º –≤–∏–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –≤–∏–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –û–Ω —è–≤–ª—è–µ—Ç—Å—è *–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º* –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∏—Ö.
  * **`GtkTreeModel`**: –≠—Ç–æ –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –≤–∏–¥–∂–µ—Ç `GtkTreeView` –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏. `GtkListStore` –∏ `GtkTreeStore` —è–≤–ª—è—é—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
  * **`GtkListStore`**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ **–º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è **—Ç–∞–±–ª–∏—á–Ω–æ–π** —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤.
  * **`GtkTreeStore`**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ **–º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π (–¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π)** —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `GtkListStore`, `GtkTreeStore` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –∏–º–µ—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Ñ–æ—Ä–º–∏—Ä—É—è –≤–µ—Ç–≤–∏—Å—Ç–æ–µ –¥–µ—Ä–µ–≤–æ.
  * **`GtkTreeViewColumn`**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π **—Å—Ç–æ–ª–±–µ—Ü** –≤ `GtkTreeView`. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–æ–ª–±—Ü–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –º–æ–¥–µ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —ç—Ç–æ–º —Å—Ç–æ–ª–±—Ü–µ.
  * **`GtkCellRenderer`**: –≠—Ç–æ –Ω–µ –≤–∏–¥–∂–µ—Ç, –∞ –æ–±—ä–µ–∫—Ç, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ **–æ—Ç—Ä–∏—Å–æ–≤–∫—É (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥)** —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–π —è—á–µ–π–∫–∏ –≤ `GtkTreeViewColumn`. –ù–∞–ø—Ä–∏–º–µ—Ä, `GtkCellRendererText` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—Å—Ç, –∞ `GtkCellRendererPixbuf` ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

-----

## üîπ –§—É–Ω–∫—Ü–∏–∏ GTK, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º

| –§—É–Ω–∫—Ü–∏—è                           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                    |
| :-------------------------------- | :------------------------------------------------------------ |
| `gtk_init()`                      | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É GTK.                                |
| `gtk_main()`                      | –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π GTK.                 |
| `gtk_main_quit()`                 | –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª GTK.                              |
| `gtk_window_new()`                | –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ –æ–∫–Ω–æ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è.                           |
| `gtk_window_set_title()`          | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞.                                 |
| `gtk_window_set_default_size()`   | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.                       |
| `gtk_window_set_position()`       | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –æ–∫–Ω–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.                         |
| `g_signal_connect()`              | –ü–æ–¥–∫–ª—é—á–∞–µ—Ç callback-—Ñ—É–Ω–∫—Ü–∏—é –∫ —Å–∏–≥–Ω–∞–ª—É –≤–∏–¥–∂–µ—Ç–∞.                |
| `gtk_scrolled_window_new()`       | –°–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–æ–µ –æ–∫–Ω–æ (–¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å —Ä–∞–∑–º–µ—Ä –≤–∏–¥–∂–µ—Ç–∞). |
| `gtk_scrolled_window_set_policy()`| –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª–∏—Ç–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–æ—Å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏.         |
| `gtk_container_add()`             | –î–æ–±–∞–≤–ª—è–µ—Ç –≤–∏–¥–∂–µ—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.                                 |
| `gtk_widget_show_all()`           | –î–µ–ª–∞–µ—Ç –≤–∏–¥–∏–º—ã–º –≤–∏–¥–∂–µ—Ç –∏ –≤—Å–µ –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã.            |
| `gtk_list_store_new()`            | –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö `GtkListStore`.                   |
| `gtk_list_store_append()`         | –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ `GtkListStore`.                      |
| `gtk_list_store_set()`            | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —è—á–µ–µ–∫ –≤ —Å—Ç—Ä–æ–∫–µ `GtkListStore`.         |
| `gtk_tree_store_new()`            | –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö `GtkTreeStore`.                   |
| `gtk_tree_store_append()`         | –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ `GtkTreeStore` (–º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—á–µ—Ä–Ω–µ–π).|
| `gtk_tree_store_set()`            | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —è—á–µ–µ–∫ –≤ —Å—Ç—Ä–æ–∫–µ `GtkTreeStore`.         |
| `gtk_tree_view_new_with_model()`  | –°–æ–∑–¥–∞—ë—Ç `GtkTreeView`, –ø—Ä–∏–≤—è–∑—ã–≤–∞—è –µ–≥–æ –∫ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö.       |
| `gtk_tree_view_append_column()`   | –î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç–æ–ª–±–µ—Ü –≤ `GtkTreeView`.                             |
| `gtk_tree_view_column_new_with_attributes()` | –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞.     |
| `gtk_tree_view_column_set_sort_column_id()` | –í–∫–ª—é—á–∞–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ —Å—Ç–æ–ª–±—Ü—É –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫. |
| `gtk_tree_view_set_expander_column()` | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–æ–ª–±–µ—Ü, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –¥–ª—è –¥–µ—Ä–µ–≤–∞. |
| `gtk_tree_view_column_set_resizable()` | –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä —Å—Ç–æ–ª–±—Ü–∞.        |
| `gtk_cell_renderer_text_new()`    | –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞.                |
| `g_object_unref()`                | –£–º–µ–Ω—å—à–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç (–¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏). |

-----

## üìÅ –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ

  * `treeview_liststore_example.c` ‚Äî –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—á–Ω–æ–≥–æ `GtkTreeView` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `GtkListStore`.
  * `treeview_treestore_example.c` ‚Äî –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–≥–æ `GtkTreeView` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `GtkTreeStore`.

-----

## ‚úÖ `treeview_liststore_example.c` ‚Äî –¢–∞–±–ª–∏—á–Ω—ã–π `GtkTreeView`

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–µ –æ–∫–Ω–æ —Å —Ç–∞–±–ª–∏—Ü–µ–π, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–µ–π –¥–∞–Ω–Ω—ã–µ –æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö (–ò–º—è, –í–æ–∑—Ä–∞—Å—Ç, –ü—Ä–æ—Ñ–µ—Å—Å–∏—è). –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ `GtkListStore`.

### üîß –ö–∞–∫ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1.  **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –∫–æ–¥ –∏–∑ `treeview_liststore_example.c` –≤ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º.
2.  **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≥–¥–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ñ–∞–π–ª.
3.  **–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ** –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    gcc treeview_liststore_example.c -o treeview_liststore_example `pkg-config --cflags --libs gtk+-3.0`
    ```
4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    ./treeview_liststore_example
    ```

### üíª –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ –æ–∫–Ω–æ

1.  **–ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ** (`GtkWindow`) —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è (–∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ä–∞–∑–º–µ—Ä, –ø–æ–∑–∏—Ü–∏—è).
2.  **`GtkListStore`** —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å —Ç—Ä–µ–º—è —Å—Ç–æ–ª–±—Ü–∞–º–∏ (`G_TYPE_STRING` –¥–ª—è –∏–º–µ–Ω–∏, `G_TYPE_INT` –¥–ª—è –≤–æ–∑—Ä–∞—Å—Ç–∞, `G_TYPE_STRING` –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏).
3.  –í `GtkListStore` **–¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ** –æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö —Å –ø–æ–º–æ—â—å—é `gtk_list_store_append()` –∏ `gtk_list_store_set()`.
4.  **`GtkTreeView`** —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å `GtkListStore` (`gtk_tree_view_new_with_model()`). –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ `GtkListStore` –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ "–æ—Ç–ø—É—Å—Ç–∏—Ç—å" —Å –ø–æ–º–æ—â—å—é `g_object_unref()`, —Ç–∞–∫ –∫–∞–∫ `GtkTreeView` —Å–∞–º —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ –º–æ–¥–µ–ª—å.
5.  –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ —Ç–∞–±–ª–∏—Ü—ã (`–ò–º—è`, `–í–æ–∑—Ä–∞—Å—Ç`, `–ü—Ä–æ—Ñ–µ—Å—Å–∏—è`) —Å–æ–∑–¥–∞—ë—Ç—Å—è **`GtkTreeViewColumn`** —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ **`GtkCellRendererText`**. `GtkCellRendererText` –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –Ω—É–∂–Ω–æ–º—É —Å—Ç–æ–ª–±—Ü—É –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `gtk_tree_view_column_new_with_attributes()`.
6.  –í–∫–ª—é—á–µ–Ω–∞ **—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤ —Å –ø–æ–º–æ—â—å—é `gtk_tree_view_column_set_sort_column_id()`.
7.  `GtkTreeView` –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ **`GtkScrolledWindow`**, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ.
8.  –í—Å–µ –≤–∏–¥–∂–µ—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (`gtk_widget_show_all()`) –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª GTK (`gtk_main()`).

### üñ• –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ–∫–Ω–æ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º **"–ü—Ä–∏–º–µ—Ä GtkTreeView (ListStore)"**. –í–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞ –±—É–¥–µ—Ç —Ç–∞–±–ª–∏—Ü–∞ —Å —Ç—Ä–µ–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏: **"–ò–º—è"**, **"–í–æ–∑—Ä–∞—Å—Ç"**, **"–ü—Ä–æ—Ñ–µ—Å—Å–∏—è"**. –¢–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ç—ã—Ä—ë—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –ê–ª–∏—Å—ã, –ë–æ–±–∞, –ê–Ω–Ω—ã –∏ –ß–∞—Ä–ª–∏. –í—ã —Å–º–æ–∂–µ—Ç–µ –∫–ª–∏–∫–∞—Ç—å –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º —Å—Ç–æ–ª–±—Ü–æ–≤, —á—Ç–æ–±—ã **—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å** –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–æ–ª–æ–Ω–∫–µ, –∞ —Ç–∞–∫–∂–µ **–∏–∑–º–µ–Ω—è—Ç—å —à–∏—Ä–∏–Ω—É** –∫–æ–ª–æ–Ω–æ–∫.

-----

## üöÄ `treeview_treestore_example.c` ‚Äî –î—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–π `GtkTreeView`

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –æ–∫–Ω–æ —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º —Å–ø–∏—Å–∫–æ–º, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–º –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π. –î–ª—è —ç—Ç–æ–≥–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö `GtkTreeStore`.

### üîß –ö–∞–∫ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1.  **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –∫–æ–¥ –∏–∑ `treeview_treestore_example.c` –≤ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º.
2.  **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≥–¥–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ñ–∞–π–ª.
3.  **–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ** –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    gcc treeview_treestore_example.c -o treeview_treestore_example `pkg-config --cflags --libs gtk+-3.0`
    ```
4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    ./treeview_treestore_example
    ```

### üíª –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ –æ–∫–Ω–æ

1.  **–ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ** (`GtkWindow`) —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è.
2.  **`GtkTreeStore`** —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –æ–¥–Ω–∏–º —Å—Ç–æ–ª–±—Ü–æ–º (`G_TYPE_STRING`) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.
3.  **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `GtkTreeStore`. –ö–æ—Ä–Ω–µ–≤—ã–µ —É–∑–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å `NULL` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–æ–¥–∏—Ç–µ–ª—è, –∞ –¥–æ—á–µ—Ä–Ω–∏–µ —É–∑–ª—ã ‚Äî —Å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —É–∑–ª–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, "–°–æ–±–∞–∫–∞" –∏ "–ö–æ—Ç" –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è "–ñ–∏–≤–æ—Ç–Ω—ã–µ", –∞ "–†–æ–∑—ã" –∏ "–¢—é–ª—å–ø–∞–Ω—ã" ‚Äî –¥–ª—è "–¶–≤–µ—Ç—ã".
4.  **`GtkTreeView`** —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å `GtkTreeStore`. –ú–æ–¥–µ–ª—å —Ç–∞–∫–∂–µ "–æ—Ç–ø—É—Å–∫–∞–µ—Ç—Å—è" —Å –ø–æ–º–æ—â—å—é `g_object_unref()`.
5.  –°–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–Ω–∞ **`GtkTreeViewColumn`** —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏" –∏ **`GtkCellRendererText`**, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Å—Ç–æ–ª–±—Ü—É –º–æ–¥–µ–ª–∏.
6.  `gtk_tree_view_set_expander_column()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–æ–ª–±–µ—Ü, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞.
7.  `GtkTreeView` –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ **`GtkScrolledWindow`** –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏.
8.  –í—Å–µ –≤–∏–¥–∂–µ—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (`gtk_widget_show_all()`) –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª GTK (`gtk_main()`).

### üñ• –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ–∫–Ω–æ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º **"–ü—Ä–∏–º–µ—Ä GtkTreeView (TreeStore)"**. –í–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è **–¥—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** (–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫). –í—ã —É–≤–∏–¥–∏—Ç–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —É–∑–ª—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ **"–ñ–∏–≤–æ—Ç–Ω—ã–µ"** –∏ **"–†–∞—Å—Ç–µ–Ω–∏—è"**. –í—ã —Å–º–æ–∂–µ—Ç–µ **—Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å** —ç—Ç–∏ —É–∑–ª—ã (–Ω–∞–∂–∏–º–∞—è –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏), —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏—Ö –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°–æ–±–∞–∫–∞", "–ö–æ—Ç" –ø–æ–¥ "–ñ–∏–≤–æ—Ç–Ω—ã–º–∏", –∞ "–¶–≤–µ—Ç—ã" –∏ "–î–µ—Ä–µ–≤—å—è" –ø–æ–¥ "–†–∞—Å—Ç–µ–Ω–∏—è–º–∏"). –í—ã —Ç–∞–∫–∂–µ —Å–º–æ–∂–µ—Ç–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å "–¶–≤–µ—Ç—ã", —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å "–†–æ–∑—ã" –∏ "–¢—é–ª—å–ø–∞–Ω—ã".

-----

