// pointer_to_pointer.c
// Пример использования указателя на указатель.

#include <stdio.h> // Для использования функции printf().

int main() {
    // 1. Обычная переменная.
    int x = 7;       

    // 2. Указатель на int.
    // 'p' хранит адрес 'x'. 'p' указывает на 'x'.
    int *p = &x;     

    // 3. Указатель на указатель на int.
    // 'int **pp;': 'pp' - это указатель, который указывает на другой указатель,
    //              который, в свою очередь, указывает на 'int'.
    // '&p': 'pp' хранит адрес 'p'.
    // Таким образом, 'pp' -> 'p' -> 'x'.
    int **pp = &p;   

    printf("Значение x: %d\n", x);           // Выводит значение 'x' (7).
    printf("Адрес x: %p\n", &x);             // Выводит адрес 'x' в памяти.

    printf("\nЗначение p (адрес x): %p\n", p); // Выводит адрес, хранящийся в 'p' (т.е., адрес 'x').
    printf("Адрес p: %p\n", &p);             // Выводит собственный адрес 'p' в памяти.

    printf("\nЗначение pp (адрес p): %p\n", pp); // Выводит адрес, хранящийся в 'pp' (т.е., адрес 'p').
    printf("Адрес pp: %p\n", &pp);           // Выводит собственный адрес 'pp' в памяти.

    printf("\nДоступ к значениям через разыменование:\n");
    printf("Значение через *p: %d\n", *p);     // Разыменование 'p' (*p) дает значение 'x' (7).
    
    printf("Значение через **pp: %d\n", **pp); // Двойное разыменование 'pp':
                                            // *pp: сначала получаем значение, на которое указывает 'pp' (это 'p').
                                            // **pp: затем разыменовываем полученное 'p' и получаем значение 'x' (7).

    return 0; // Успешное завершение программы.
}