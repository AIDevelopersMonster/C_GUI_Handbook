# –ì–ª–∞–≤–∞ 23: –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –î–∏–∞–ª–æ–≥–∏ (GtkFileChooserDialog, GtkColorChooserDialog)

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –≥–ª—É–±–æ–∫–æ –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ **–ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–æ–≤—ã–µ –æ–∫–Ω–∞** GTK. –≠—Ç–∏ –¥–∏–∞–ª–æ–≥–∏ ‚Äî –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ GTK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏". –û–Ω–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, –∑–Ω–∞–∫–æ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –∏–∑–±–∞–≤–ª—è—è –≤–∞—Å –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –±–∞–∑–æ–≤—ã—Ö, –Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∑–∞–¥–∞—á, —Ç–∞–∫–∏—Ö –∫–∞–∫ –≤—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤.

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö —Ç–∏–ø–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤:

  * **[`GtkFileChooserDialog`](https://docs.gtk.org/gtk3/class.FileChooserDialog.html)**: –≠—Ç–æ—Ç –¥–∏–∞–ª–æ–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±–∏—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è, —É–∫–∞–∑—ã–≤–∞—Ç—å –º–µ—Å—Ç–æ –∏ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤—ã–±–∏—Ä–∞—Ç—å –ø–∞–ø–∫–∏.
  * **[`GtkColorChooserDialog`](https://docs.gtk.org/gtk3/class.ColorChooserDialog.html)**: –≠—Ç–æ—Ç –¥–∏–∞–ª–æ–≥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—ã–±–∏—Ä–∞—Ç—å —Ü–≤–µ—Ç–∞ –∏–∑ –ø–∞–ª–∏—Ç—Ä—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∏–ø–µ—Ç–∫—É, –∞ —Ç–∞–∫–∂–µ –≤–≤–æ–¥–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è RGB, HSL –∏–ª–∏ HEX.

–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –∫—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã—Ö –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

-----

## üìö –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ó–¥–µ—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö —ç—Ç–æ–π –≥–ª–∞–≤—ã:

  * **`gtk_file_chooser_dialog_new()`**: –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞.
  * **`GTK_FILE_CHOOSER_ACTION_OPEN`**: –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è, —á—Ç–æ –¥–∏–∞–ª–æ–≥ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤—ã–±–æ—Ä–∞ **—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞** –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è.
  * **`GTK_FILE_CHOOSER_ACTION_SAVE`**: –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è, —á—Ç–æ –¥–∏–∞–ª–æ–≥ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞** –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ.
  * **`GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER`**: –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è, —á—Ç–æ –¥–∏–∞–ª–æ–≥ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–≤—ã–±–æ—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–ø–∞–ø–∫–∏)**.
  * **`gtk_file_chooser_get_filename()`**: –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É –∏–ª–∏ –ø–∞–ø–∫–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–ª –¥–∏–∞–ª–æ–≥, –Ω–∞–∂–∞–≤ "–û–ö"/"–û—Ç–∫—Ä—ã—Ç—å"/"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å". –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `g_free()`.
  * **`gtk_file_chooser_set_current_name()`**: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –¥–∏–∞–ª–æ–≥–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å.
  * **`gtk_file_chooser_set_do_overwrite_confirmation()`**: –í–∫–ª—é—á–∞–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º, –∫–æ—Ç–æ—Ä–æ–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
  * **`gtk_color_chooser_dialog_new()`**: –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞.
  * **`gtk_color_chooser_set_rgba()`**: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –¥–∏–∞–ª–æ–≥–µ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞. –¶–≤–µ—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `GdkRGBA`.
  * **`gtk_color_chooser_get_rgba()`**: –ü–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ü–≤–µ—Ç –∏–∑ –¥–∏–∞–ª–æ–≥–∞. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–≤–µ—Ç –≤ –≤–∏–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `GdkRGBA`.
  * **`gtk_dialog_run()`**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ª—é–±–æ–π –¥–∏–∞–ª–æ–≥ (–±—É–¥—å —Ç–æ —Ñ–∞–π–ª–æ–≤—ã–π, —Ü–≤–µ—Ç–æ–≤–æ–π –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π `GtkDialog`) –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç –¥–∏–∞–ª–æ–≥, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç [`GtkResponseType`](https://docs.gtk.org/gtk3/enum.ResponseType.html) —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –∫–∞–∫–∞—è –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ (`GTK_RESPONSE_ACCEPT`, `GTK_RESPONSE_CANCEL` –∏ —Ç.–¥.).
  * **`gtk_widget_destroy()`**: –£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –≤–∏–¥–∂–µ—Ç GTK, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –≤—Å—é —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–∏–º –ø–∞–º—è—Ç—å. **–ö—Ä–∞–π–Ω–µ –≤–∞–∂–Ω–æ** –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ –±—ã–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã (–ø–æ—Å–ª–µ `gtk_dialog_run()`), —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏.
  * **`GTK_RESPONSE_ACCEPT`**: –û–±—â–∏–π –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤, –æ–∑–Ω–∞—á–∞—é—â–∏–π, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û—Ç–∫—Ä—ã—Ç—å", "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "OK").
  * **`GTK_RESPONSE_CANCEL`**: –û–±—â–∏–π –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤, –æ–∑–Ω–∞—á–∞—é—â–∏–π, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª –¥–µ–π—Å—Ç–≤–∏–µ.

-----

## üìÅ –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç—Ä–∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞:

  * `file_chooser_open_example.c` ‚Äî –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GtkFileChooserDialog` –¥–ª—è **–æ—Ç–∫—Ä—ã—Ç–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞**.
  * `file_chooser_save_example.c` ‚Äî –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `GtkFileChooserDialog` –¥–ª—è **—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞** –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ.
  * color_chooser_example.c` ‚Äî –ò–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ `GtkColorChooserDialog` –¥–ª—è **–≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞**.

-----

## ‚úÖ –ü—Ä–∏–º–µ—Ä 23.1: –î–∏–∞–ª–æ–≥ –û—Ç–∫—Ä—ã—Ç–∏—è –§–∞–π–ª–∞ (`GtkFileChooserDialog`)

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–µ GTK-–æ–∫–Ω–æ —Å –∫–Ω–æ–ø–∫–æ–π. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —ç—Ç—É –∫–Ω–æ–ø–∫—É –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç —Ñ–∞–π–ª –∏ –Ω–∞–∂–º—ë—Ç "–û—Ç–∫—Ä—ã—Ç—å", –ø—É—Ç—å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã:**

  * –í—ã–∑–æ–≤ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–∫—Ä—ã—Ç–∏—è.
  * –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É.
  * –í–∞–∂–Ω–æ—Å—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É—Ç–∏ (`g_free`).

### üîß –ö–∞–∫ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1.  **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –∫–æ–¥ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ 23.1 –≤ —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `file_chooser_open_example.c`.
2.  **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≥–¥–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ñ–∞–π–ª.
3.  **–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ** –ø—Ä–æ–≥—Ä–∞–º–º—É, –∏—Å–ø–æ–ª—å–∑—É—è `pkg-config` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–ª–∞–≥–æ–≤ GTK:
    ```bash
    gcc file_chooser_open_example.c -o file_chooser_open_example `pkg-config --cflags --libs gtk+-3.0`
    ```
4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    ./file_chooser_open_example
    ```

### üñ• –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã —É–≤–∏–¥–∏—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–µ –æ–∫–Ω–æ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º **"–í—ã–±–æ—Ä —Ñ–∞–π–ª–∞"** –∏ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π **"–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª..."**. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —ç—Ç—É –∫–Ω–æ–ø–∫—É –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ (–µ–≥–æ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤–∞—à–µ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —Ç–µ–º—ã GTK, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤). –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –≤—ã–±–µ—Ä–µ—Ç–µ –ª—é–±–æ–π —Ñ–∞–π–ª –∏ –Ω–∞–∂–º—ë—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å" (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –∫–Ω–æ–ø–∫—É –≤ –¥–∏–∞–ª–æ–≥–µ), –¥–∏–∞–ª–æ–≥ –∑–∞–∫—Ä–æ–µ—Ç—Å—è, –∞ **–ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É –±—É–¥–µ—Ç –Ω–∞–ø–µ—á–∞—Ç–∞–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏**, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –≤—ã –∑–∞–ø—É—Å–∫–∞–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É.

-----

## üöÄ –ü—Ä–∏–º–µ—Ä 23.2: –î–∏–∞–ª–æ–≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –§–∞–π–ª–∞ (`GtkFileChooserDialog`)

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É, –Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GtkFileChooserDialog` –≤ —Ä–µ–∂–∏–º–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞. –î–∏–∞–ª–æ–≥ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –≤–≤–µ—Å—Ç–∏ –∏–º—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã:**

  * –í—ã–∑–æ–≤ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –≤ —Ä–µ–∂–∏–º–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
  * –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–∞.

### üîß –ö–∞–∫ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1.  **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –∫–æ–¥ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ 23.2 –≤ —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `file_chooser_save_example.c`.
2.  **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≥–¥–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ñ–∞–π–ª.
3.  **–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ** –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    gcc file_chooser_save_example.c -o file_chooser_save_example `pkg-config --cflags --libs gtk+-3.0`
    ```
4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    ./file_chooser_save_example
    ```

### üñ• –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ—è–≤–∏—Ç—Å—è –æ–∫–Ω–æ —Å –∫–Ω–æ–ø–∫–æ–π **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª..."**. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –Ω–µ—ë –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞. –í –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –∏–º—è **"–ù–æ–≤—ã–π–î–æ–∫—É–º–µ–Ω—Ç.txt"**. –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±—É—é –ø–∞–ø–∫—É, –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞ (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–µ) –∏ –Ω–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å". –ï—Å–ª–∏ –≤—ã –≤—ã–±–µ—Ä–µ—Ç–µ –∏–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞, –¥–∏–∞–ª–æ–≥ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ (–±–ª–∞–≥–æ–¥–∞—Ä—è `gtk_file_chooser_set_do_overwrite_confirmation`). –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞, **–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –ø—É—Ç—å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Ñ–∞–π–ª, –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å**.

-----

## üé® –ü—Ä–∏–º–µ—Ä 23.3: –î–∏–∞–ª–æ–≥ –í—ã–±–æ—Ä–∞ –¶–≤–µ—Ç–∞ (`GtkColorChooserDialog`)

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –≤—ã–∑–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `GtkColorChooserDialog`. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∫–Ω–æ–ø–∫—É, –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç —Ü–≤–µ—Ç –∏ –Ω–∞–∂–º—ë—Ç "–û–ö", –µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫—Ä–∞—Å–Ω—ã–π, –∑–µ–ª—ë–Ω—ã–π, —Å–∏–Ω–∏–π, –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª) –±—É–¥—É—Ç –≤—ã–≤–µ–¥–µ–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª—å.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã:**

  * –í—ã–∑–æ–≤ –¥–∏–∞–ª–æ–≥–∞ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞.
  * –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `GdkRGBA`.
  * –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —Ü–≤–µ—Ç–∞ (–∏–∑ 0.0-1.0 –≤ 0-255).

### üîß –ö–∞–∫ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1.  **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –∫–æ–¥ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ 23.3 –≤ —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `color_chooser_example.c`.
2.  **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –≥–¥–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ñ–∞–π–ª.
3.  **–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ** –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    gcc color_chooser_example.c -o color_chooser_example `pkg-config --cflags --libs gtk+-3.0`
    ```
4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:
    ```bash
    ./color_chooser_example
    ```

### üñ• –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ–∫–Ω–æ —Å –∫–Ω–æ–ø–∫–æ–π **"–í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç..."**. –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –Ω–µ—ë –æ—Ç–∫—Ä–æ–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ (–ø–∞–ª–∏—Ç—Ä—ã, –ø–æ–ª–∑—É–Ω–∫–∏ RGB/HSL, –≤–≤–æ–¥ HEX). –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —Ü–≤–µ—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ "–û–ö". –î–∏–∞–ª–æ–≥ –∑–∞–∫—Ä–æ–µ—Ç—Å—è, –∏ **–∑–Ω–∞—á–µ–Ω–∏—è –∫—Ä–∞—Å–Ω–æ–≥–æ, –∑–µ–ª—ë–Ω–æ–≥–æ, —Å–∏–Ω–µ–≥–æ –∏ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö 0.0-1.0 –∏ 0-255)** –±—É–¥—É—Ç –Ω–∞–ø–µ—á–∞—Ç–∞–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏.

-----

## üîó –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

–î–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ GTK –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

  * **[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GtkFileChooserDialog](https://docs.gtk.org/gtk3/class.FileChooserDialog.html)**: –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å–≤–æ–π—Å—Ç–≤ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞.
  * **[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GtkColorChooserDialog](https://docs.gtk.org/gtk3/class.ColorChooserDialog.html)**: –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∏–∞–ª–æ–≥–µ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞.
  * **[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è GtkDialog](https://docs.gtk.org/gtk3/class.Dialog.html)**: –û–±—â–∏–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö –æ–∫–æ–Ω GTK.
  * **[–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ GtkResponseType](https://docs.gtk.org/gtk3/enum.ResponseType.html)**: –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–¥–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∏–∞–ª–æ–≥–∞–º–∏.
  * **[–°—Ç—Ä—É–∫—Ç—É—Ä–∞ GdkRGBA](https://docs.gtk.org/gdk3/struct.RGBA.html)**: –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –≤ GTK.
  * **[C GUI Handbook –Ω–∞ GitHub](https://github.com/AIDevelopersMonster/C_GUI_Handbook)**: –ü–æ–ª–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –≤—Å–µ–º –≥–ª–∞–≤–∞–º.

